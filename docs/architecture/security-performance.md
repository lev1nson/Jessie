# **Раздел 13: Безопасность и производительность**

## **Требования к безопасности (Security Requirements)**

* **Безопасность Frontend**:  
  * Реализация строгой **Политики безопасности контента (CSP)** для предотвращения XSS-атак.  
  * **Санитизация** всего контента из писем перед отображением.  
* **Безопасность Backend**:  
  * **Валидация** всех входящих данных на API-маршрутах с помощью **Zod**.  
  * Включение встроенных в Supabase **ограничений по частоте запросов (rate limiting)**.  
  * Настройка **CORS** для приема запросов только с нашего домена на Vercel.  
* **Безопасность аутентификации**:  
  * Использование **защищенных, HttpOnly куки** от Supabase Auth.  
  * Хранение всех "секретов" в **зашифрованных переменных окружения** Vercel.

## **Оптимизация производительности (Performance Optimization)**

* **Производительность Frontend**:  
  * Автоматическое **разделение кода (code-splitting)** от Next.js.  
  * Использование **динамических импортов** для "тяжелых" компонентов.  
  * Оптимизация изображений через встроенный сервис Vercel.  
* **Производительность Backend**:  
  * Использование **индекса HNSW** в pgvector для быстрого семантического поиска.  
  * Добавление стандартных **индексов PostgreSQL** на внешние ключи. 