# **Раздел 6: Детализация эпиков**

## **Эпик 1: Фундамент и сбор данных**

**Расширенная цель**: Построить полностью автоматизированный backend конвейер для обработки данных. К концу эпика система будет самостоятельно подключаться к Gmail, забирать письма, фильтровать, извлекать текст и наполнять векторную базу данных.

* **История 1.1: Настройка проекта и базовая конфигурация облака**  
  * **Как** разработчик, **я хочу** настроить структуру проекта (монорепозиторий) и инициализировать основные облачные сервисы, **чтобы** у нас был фундамент для сборки и развертывания приложения.  
  * **Критерии приемки**: 1\. Создан монорепозиторий с папками-плейсхолдерами для backend и frontend. 2\. Создана базовая конфигурация для бессерверной функции. 3\. Настроен простейший CI/CD-пайплайн.  
* **История 1.2: Безопасная аутентификация с Google**  
  * **Как** пользователь, **я хочу** безопасно подключить свой Google-аккаунт, **чтобы** "Jessie" получила разрешение на доступ к моим письмам.  
  * **Критерии приемки**: 1\. Используется OAuth 2.0. 2\. Пользователь перенаправляется на экран согласия Google. 3\. Токены доступа безопасно сохраняются.  
* **История 1.3: Базовый конвейер сбора писем**  
  * **Как** разработчик, **я хочу** создать конвейер, который периодически забирает новые входящие и исходящие письма, **чтобы** у системы были сырые данные для обработки.  
  * **Критерии приемки**: 1\. Бессерверная функция запускается по расписанию. 2\. Функция использует сохраненные токены для подключения к Gmail API. 3\. Функция забирает еще не обработанные письма из папок "Входящие" и "Отправленные".  
* **История 1.4: Фильтрация и извлечение контента**  
  * **Как** система, **я хочу** отфильтровывать нерелевантные письма и извлекать из нужных писем чистый текст, **чтобы** база знаний содержала только качественные данные.  
  * **Критерии приемки**: 1\. Письма от отправителей из предопределенного списка "шумных" доменов отбрасываются. 2\. Из оставшихся писем извлекается только текстовое содержимое. 3\. Система определяет наличие поддерживаемых вложений (.pdf, .docx).  
* **История 1.5: Обработка вложений и векторизация**  
  * **Как** система, **я хочу** извлекать текст из вложений, объединять его с текстом письма и сохранять в виде векторов, **чтобы** весь контент был доступен для семантического поиска.  
  * **Критерии приемки**: 1\. Текст успешно извлекается из вложений .pdf и .docx. 2\. Извлеченный текст и текст письма объединяются. 3\. Объединенный текст преобразуется в векторы и сохраняется в векторной базе данных.

## **Эпик 2: Интерфейс и извлечение фактов**

**Расширенная цель**: Этот эпик фокусируется на воплощении "Джесси" в жизнь. Мы создадим веб-приложение, и пользователь сможет провести свой первый диалог с "Джесси", задавая простые фактические вопросы и получая релевантные ответы.

* **История 2.1: Базовая настройка Frontend-приложения**  
  * **Как** разработчик, **я хочу** настроить структуру frontend-приложения в монорепозитории, **чтобы** у нас была основа для создания пользовательского интерфейса.  
  * **Критерии приемки**: 1\. В папке frontend монорепозитория создано новое веб-приложение. 2\. Установлены базовые зависимости для UI. 3\. Приложение можно запустить локально.  
* **История 2.2: Реализация макета интерфейса чата**  
  * **Как** пользователь, **я хочу** видеть знакомый интерфейс чата со списком моих прошлых бесед слева и текущим диалогом справа, **чтобы** я мог легко ориентироваться в своих взаимодействиях.  
  * **Критерии приемки**: 1\. Главный экран разделен на две основные панели. 2\. Левая панель — это прокручиваемая область для отображения списка чатов. 3\. Правая панель содержит область для отображения сообщений и поле для ввода текста внизу.  
* **История 2.3: Подключение интерфейса к системе аутентификации**  
  * **Как** пользователь, **я хочу** войти в веб-приложение, используя тот же аккаунт Google, который я подключил на бэкенде, **чтобы** интерфейс получил доступ к моим данным.  
  * **Критерии приемки**: 1\. В приложении есть кнопка "Войти через Google". 2\. Нажатие на кнопку инициирует процесс OAuth. 3\. После успешного входа пользователь перенаправляется на главный интерфейс чата.  
* **История 2.4: Отправка запроса и отображение ответа**  
  * **Как** пользователь, **я хочу** ввести вопрос в поле ввода, нажать Enter и увидеть как мой вопрос, так и ответ Джесси в окне диалога, **чтобы** я мог вести беседу.  
  * **Критерии приемки**: 1\. Когда пользователь отправляет текст, он появляется в истории чата как сообщение от "пользователя". 2\. Отправленный текст передается на новую API-точку на бэкенде. 3\. Бэкенд выполняет простой векторный поиск по запросу и возвращает наиболее релевантный фрагмент текста. 4\. Возвращенный текст появляется в истории чата как сообщение от "Джесси".

## **Эпик 3: Продвинутый анализ и понимание контекста**

**Расширенная цель**: Этот эпик реализует "магию" приложения, превращая его из простого поисковика в настоящего аналитического ассистента, способного выполнить главную задачу MVP.

* **История 3.1: Реализация идентификации участников**  
  * **Как** пользователь, **я хочу** спросить "Джесси", кто был вовлечен в обсуждение определенной темы, **чтобы** я мог получить полный список всех участников разговора.  
  * **Критерии приемки**: 1\. На бэкенде создана новая API-точка для обработки запросов на идентификацию участников. 2\. При получении запроса система сначала находит все релевантные письма по этой теме. 3\. Система извлекает данные из полей To:, From:, и Cc: из всех найденных писем. 4\. Пользователю возвращается единый список уникальных участников без дубликатов.  
* **История 3.2: Улучшение обработчика запросов для анализа по времени**  
  * **Как** разработчик, **я хочу** улучшить backend-обработчик запросов, чтобы он понимал временные диапазоны и мог обобщать информацию в хронологическом порядке, **чтобы** он мог отвечать на вопросы о развитии событий во времени.  
  * **Критерии приемки**: 1\. Логика обработки запросов обновлена и теперь распознает фильтры по датам. 2\. Векторный поиск можно ограничить документами в пределах определенного диапазона дат. 3\. Система может извлекать серию релевантных документов и сортировать их по дате. 4\. Для LLM-модели разработан специальный промпт, который инструктирует ее создать обобщение на основе хронологической последовательности документов.  
* **История 3.3: Выполнение ключевого аналитического запроса**  
  * **Как** пользователь, **я хочу** спросить "Джесси", как продвигался проект за последние 5 лет, **чтобы** я мог получить сводный отчет о его истории и ключевых этапах.  
  * **Критерии приемки**: 1\. Пользователь может задать комплексный вопрос. 2\. Система извлекает необходимую информацию в хронологическом порядке. 3\. LLM-модель генерирует связный, состоящий из нескольких абзацев, текст, подробно описывающий историю проекта. 4\. Сгенерированный отчет отображается в интерфейсе чата. 