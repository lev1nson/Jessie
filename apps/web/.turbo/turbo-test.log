
> web@0.1.0 test
> vitest run


 RUN  v3.2.4 /Users/max/Documents/Coding/Jessie/apps/web

 ✓ lib/utils/__tests__/filterCache.test.ts (13 tests) 31ms
stderr | lib/repositories/__tests__/emailRepository.test.ts > EmailRepository > saveEmail > should return null if save fails
Error saving email: { message: [32m'Database error'[39m }

stderr | lib/repositories/__tests__/emailRepository.test.ts > EmailRepository > emailExists > should return false for database errors
Error checking email existence: { message: [32m'Database error'[39m }

stderr | lib/repositories/__tests__/emailRepository.test.ts > EmailRepository > getEmailCount > should return 0 for database errors
Error getting email count: { message: [32m'Database error'[39m }

stderr | lib/repositories/__tests__/emailRepository.test.ts > EmailRepository > getUserEmails > should return empty array for database errors
Error getting user emails: { message: [32m'Database error'[39m }

stderr | lib/stores/chatStore.test.ts > chatStore > createChat > handles create chat error
Chat creation error: TypeError: response.json is not a function
    at Object.createChat [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/stores/chatStore.ts:129:44[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 ❯ lib/repositories/__tests__/emailRepository.test.ts (15 tests | 1 failed) 26ms
   × EmailRepository > saveEmail > should save email successfully 16ms
     → expected "spy" to be called with arguments: [ { user_id: 'user123', …(9) } ][90m

Received: 

[1m  1st spy call:

[22m[33m@@ -1,12 +1,15 @@[90m
[2m  [[22m
[2m    {[22m
[2m      "body_html": "<p>Test body</p>",[22m
[2m      "body_text": "Test body",[22m
[2m      "date_sent": "2024-01-01T00:00:00.000Z",[22m
[31m+     "filter_reason": null,[90m
[2m      "google_message_id": "msg123",[22m
[2m      "has_attachments": false,[22m
[31m+     "is_filtered": false,[90m
[31m+     "processed_at": null,[90m
[2m      "recipient": "recipient@example.com",[22m
[2m      "sender": "sender@example.com",[22m
[2m      "subject": "Test Subject",[22m
[2m      "thread_id": "thread123",[22m
[2m      "user_id": "user123",[22m
[39m[90m

Number of calls: [1m1[22m
[39m
   ✓ EmailRepository > saveEmail > should return null if save fails 2ms
   ✓ EmailRepository > saveEmailsBatch > should save multiple emails successfully 0ms
   ✓ EmailRepository > saveEmailsBatch > should return empty array for empty input 0ms
   ✓ EmailRepository > emailExists > should return true if email exists 0ms
   ✓ EmailRepository > emailExists > should return false if email does not exist 4ms
   ✓ EmailRepository > emailExists > should return false for database errors 1ms
   ✓ EmailRepository > getLastEmailDate > should return last email date 0ms
   ✓ EmailRepository > getLastEmailDate > should return null if no emails found 0ms
   ✓ EmailRepository > getEmailCount > should return email count 0ms
   ✓ EmailRepository > getEmailCount > should return 0 for database errors 0ms
   ✓ EmailRepository > filterNewEmails > should filter out existing emails 0ms
   ✓ EmailRepository > filterNewEmails > should return all emails if none exist 0ms
   ✓ EmailRepository > getUserEmails > should get user emails with pagination 0ms
   ✓ EmailRepository > getUserEmails > should return empty array for database errors 0ms
stdout | lib/stores/chatStore.test.ts > chatStore > sendMessage > sends message successfully with optimistic update
Store sendMessage called with: { chatId: [32m'chat1'[39m, content: [32m'Hello'[39m }
Attempt 1 for message temp-1753798016288

stdout | lib/stores/chatStore.test.ts > chatStore > sendMessage > handles send message error and removes optimistic message
Store sendMessage called with: { chatId: [32m'chat1'[39m, content: [32m'Hello'[39m }
Attempt 1 for message temp-1753798016288

stderr | lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > processAttachment > should handle parsing errors
Error processing attachment: Error: PDF parsing failed
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:234:58
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)

stderr | lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > error handling and edge cases > should handle concurrent processing errors gracefully
Error processing attachment: Error: Random parsing error
    at Object.<anonymous> [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:547:17[90m)[39m
    at Object.mockCall (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as parsePdfAttachment] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at AttachmentProcessor.processAttachment [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:118:49[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:177:35
    at Array.map (<anonymous>)
    at AttachmentProcessor.processAttachments [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:176:35[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:563:48
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
Error processing attachment: Error: Random parsing error
    at Object.<anonymous> [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:547:17[90m)[39m
    at Object.mockCall (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as parsePdfAttachment] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at AttachmentProcessor.processAttachment [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:118:49[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:177:35
    at Array.map (<anonymous>)
    at AttachmentProcessor.processAttachments [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:176:35[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:563:48
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
Error processing attachment: Error: Random parsing error
    at Object.<anonymous> [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:547:17[90m)[39m
    at Object.mockCall (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as parsePdfAttachment] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at AttachmentProcessor.processAttachment [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:118:49[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:177:35
    at Array.map (<anonymous>)
    at AttachmentProcessor.processAttachments [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:176:35[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:563:48
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26

stderr | lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > error handling and edge cases > should handle concurrent processing errors gracefully
Error processing attachment: Error: Random parsing error
    at Object.<anonymous> [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:547:17[90m)[39m
    at Object.mockCall (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as parsePdfAttachment] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at AttachmentProcessor.processAttachment [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:118:49[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:177:35
    at Array.map (<anonymous>)
    at AttachmentProcessor.processAttachments [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:176:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:563:22
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20
Error processing attachment: Error: Random parsing error
    at Object.<anonymous> [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:547:17[90m)[39m
    at Object.mockCall (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as parsePdfAttachment] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at AttachmentProcessor.processAttachment [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:118:49[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:177:35
    at Array.map (<anonymous>)
    at AttachmentProcessor.processAttachments [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:176:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:563:22
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20
Error processing attachment: Error: Random parsing error
    at Object.<anonymous> [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:547:17[90m)[39m
    at Object.mockCall (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as parsePdfAttachment] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at AttachmentProcessor.processAttachment [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:118:49[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:177:35
    at Array.map (<anonymous>)
    at AttachmentProcessor.processAttachments [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:176:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:563:22
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20
Error processing attachment: Error: Random parsing error
    at Object.<anonymous> [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:547:17[90m)[39m
    at Object.mockCall (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as parsePdfAttachment] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at AttachmentProcessor.processAttachment [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:118:49[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:177:35
    at Array.map (<anonymous>)
    at AttachmentProcessor.processAttachments [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/attachmentProcessor.ts:176:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/__tests__/attachmentProcessor.test.ts:563:22
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts (34 tests | 8 failed) 39ms
   ✓ AttachmentProcessor > detectSupportedAttachments > should detect supported and unsupported attachments 2ms
   ✓ AttachmentProcessor > detectSupportedAttachments > should handle empty attachment list 3ms
   ✓ AttachmentProcessor > isAttachmentSupported > should return true for supported PDF files 0ms
   ✓ AttachmentProcessor > isAttachmentSupported > should return true for supported DOCX files 0ms
   ✓ AttachmentProcessor > isAttachmentSupported > should return false for unsupported MIME types 0ms
   ✓ AttachmentProcessor > isAttachmentSupported > should return false for files that are too large 0ms
   × AttachmentProcessor > isAttachmentSupported > should use mime-types lookup as fallback 21ms
     → lookup.mockReturnValue is not a function
   ✓ AttachmentProcessor > processAttachment > should process PDF attachment successfully 1ms
   ✓ AttachmentProcessor > processAttachment > should process DOCX attachment successfully 0ms
   × AttachmentProcessor > processAttachment > should skip unsupported attachments 1ms
     → expected false to be true // Object.is equality
   × AttachmentProcessor > processAttachment > should handle validation errors 1ms
     → expected 'Validation failed: PDF: Invalid PDF h…' to be 'Validation failed: Invalid PDF header…' // Object.is equality
   ✓ AttachmentProcessor > processAttachment > should handle parsing errors 1ms
   × AttachmentProcessor > processAttachment > should handle unknown file types 1ms
     → expected 'Validation failed: Size mismatch: buf…' to be 'Unsupported attachment type: applicat…' // Object.is equality
   ✓ AttachmentProcessor > processAttachment > should handle buffer size mismatch 0ms
   ✓ AttachmentProcessor > processAttachments > should process multiple attachments successfully 0ms
   × AttachmentProcessor > processAttachments > should handle mixed results (processed, errors, skipped) 1ms
     → expected [] to have a length of 1 but got +0
   ✓ AttachmentProcessor > processAttachments > should process attachments in batches 0ms
   ✓ AttachmentProcessor > processAttachments > should handle empty attachment data 0ms
   ✓ AttachmentProcessor > validation > should validate attachment buffer and metadata 0ms
   ✓ AttachmentProcessor > validation > should validate PDF-specific requirements 0ms
   ✓ AttachmentProcessor > validation > should validate DOCX-specific requirements 0ms
   ✓ AttachmentProcessor > validation > should check for missing filename 0ms
   ✓ AttachmentProcessor > file type detection > should detect PDF files by MIME type 0ms
   × AttachmentProcessor > file type detection > should detect PDF files by extension 0ms
     → expected "spy" to be called at least once
   ✓ AttachmentProcessor > file type detection > should detect DOCX files by MIME type 0ms
   × AttachmentProcessor > file type detection > should detect DOCX files by extension 0ms
     → expected "spy" to be called at least once
   × AttachmentProcessor > file type detection > should handle various DOCX extensions and MIME types 0ms
     → expected "spy" to be called at least once
   ✓ AttachmentProcessor > configuration and limits > should return processing statistics 0ms
   ✓ AttachmentProcessor > configuration and limits > should update processing limits 0ms
   ✓ AttachmentProcessor > configuration and limits > should enforce minimum and maximum limits 0ms
   ✓ AttachmentProcessor > configuration and limits > should handle partial limit updates 0ms
   ✓ AttachmentProcessor > error handling and edge cases > should handle null/undefined buffer 0ms
   ✓ AttachmentProcessor > error handling and edge cases > should handle attachment info without required fields 0ms
   ✓ AttachmentProcessor > error handling and edge cases > should handle concurrent processing errors gracefully 1ms
 ❯ lib/utils/__tests__/vectorizationCache.test.ts (11 tests | 3 failed) 113ms
   ✓ VectorizationCache > basic operations > should store and retrieve cached results 3ms
   ✓ VectorizationCache > basic operations > should return null for non-existent entries 0ms
   ✓ VectorizationCache > basic operations > should check if entry exists 0ms
   × VectorizationCache > expiration > should expire entries after TTL 55ms
     → expected true to be false // Object.is equality
   × VectorizationCache > expiration > should clean up expired entries 51ms
     → expected +0 to be 5 // Object.is equality
   × VectorizationCache > cache management > should evict oldest entries when cache is full 1ms
     → expected 4 to be 3 // Object.is equality
   ✓ VectorizationCache > cache management > should clear all entries 0ms
   ✓ VectorizationCache > statistics > should track hit statistics 0ms
   ✓ VectorizationCache > statistics > should provide cache statistics 0ms
   ✓ VectorizationCache > configuration > should update cache configuration 0ms
   ✓ VectorizationCache > configuration > should enforce configuration limits 0ms
stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should retry failed messages up to 3 times with exponential backoff
Store sendMessage called with: { chatId: [32m'chat-1'[39m, content: [32m'Test message'[39m }
Attempt 1 for message temp-1753798016371

stderr | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should retry failed messages up to 3 times with exponential backoff
Warning: You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should retry failed messages up to 3 times with exponential backoff
Attempt 2 for message temp-1753798016371

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should retry failed messages up to 3 times with exponential backoff
Attempt 3 for message temp-1753798016371

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should mark message as failed after max retries
Store sendMessage called with: { chatId: [32m'chat-1'[39m, content: [32m'Test message'[39m }
Attempt 1 for message temp-1753798016383

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should mark message as failed after max retries
Attempt 2 for message temp-1753798016383

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should mark message as failed after max retries
Attempt 3 for message temp-1753798016383

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should mark message as failed after max retries
Attempt 4 for message temp-1753798016383

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should handle manual retry of failed messages
Attempt 1 for message failed-msg-1

stdout | __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Rate Limiting Handling > should detect rate limiting errors and retry with appropriate delays
Store sendMessage called with: { chatId: [32m'chat-1'[39m, content: [32m'Test message'[39m }
Attempt 1 for message temp-1753798016393

 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts (8 tests | 5 failed) 35ms
   ✓ E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should retry failed messages up to 3 times with exponential backoff 13ms
   ✓ E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should mark message as failed after max retries 7ms
   ✓ E2E Retry Mechanism and Rate Limiting > Message Retry Mechanism > should handle manual retry of failed messages 3ms
   × E2E Retry Mechanism and Rate Limiting > Rate Limiting Handling > should detect rate limiting errors and retry with appropriate delays 7ms
     → Cannot read properties of undefined (reading 'error')
   × E2E Retry Mechanism and Rate Limiting > Rate Limiting Handling > should handle 429 HTTP status as rate limiting error 2ms
     → Cannot set properties of null (setting 'chats')
   × E2E Retry Mechanism and Rate Limiting > Rate Limiting Handling > should show different error message for rate limit vs other errors 1ms
     → Cannot set properties of null (setting 'chats')
   × E2E Retry Mechanism and Rate Limiting > Error Recovery Scenarios > should recover from intermittent network issues 1ms
     → Cannot set properties of null (setting 'chats')
   × E2E Retry Mechanism and Rate Limiting > Error Recovery Scenarios > should handle mixed error types correctly 0ms
     → Cannot set properties of null (setting 'chats')
 ❯ components/features/chat/ChatMessages.test.tsx (13 tests | 1 failed) 70ms
   ✓ ChatMessages > renders messages correctly 16ms
   ✓ ChatMessages > marks last message correctly 2ms
   ✓ ChatMessages > shows empty state when no messages 2ms
   × ChatMessages > shows loading indicator when loading 7ms
     → Unable to find an element with the text: Jessie is thinking.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
      [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-is-last[39m=[32m"false"[39m
          [33mdata-testid[39m=[32m"message-1"[39m
        [36m>[39m
          [36m<div>[39m
            [0muser[0m
            [0m: [0m
            [0mHello, how are you?[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-is-last[39m=[32m"false"[39m
          [33mdata-testid[39m=[32m"message-2"[39m
        [36m>[39m
          [36m<div>[39m
            [0massistant[0m
            [0m: [0m
            [0mI am doing well, thank you for asking![0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-is-last[39m=[32m"true"[39m
          [33mdata-testid[39m=[32m"message-3"[39m
        [36m>[39m
          [36m<div>[39m
            [0muser[0m
            [0m: [0m
            [0mCan you help me with my emails?[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"loader-icon"[39m
              [36m>[39m
                [0mLoading...[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                [36m>[39m
                  [0mSearching through emails...[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                [36m>[39m
                  [0mFinding relevant messages to help answer your question[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div />[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ✓ ChatMessages > shows error state with retry button 33ms
   ✓ ChatMessages > shows error state without retry button when onRetry not provided 1ms
   ✓ ChatMessages > does not show empty state when loading 1ms
   ✓ ChatMessages > has proper container styling 2ms
   ✓ ChatMessages > shows example questions in empty state 1ms
   ✓ ChatMessages > shows chat icon in empty state 1ms
   ✓ ChatMessages > handles mixed message types 1ms
   ✓ ChatMessages > handles messages with source email IDs 1ms
   ✓ ChatMessages > auto-scrolls when new messages are added 2ms
 ❯ lib/parsers/__tests__/htmlParser.test.ts (28 tests | 11 failed) 58ms
   ✓ HtmlParser > parseHtmlEmail > should parse simple HTML email correctly 5ms
   ✓ HtmlParser > parseHtmlEmail > should remove script and style elements 1ms
   ✓ HtmlParser > parseHtmlEmail > should remove tracking pixels and beacons 1ms
   ✓ HtmlParser > parseHtmlEmail > should convert headers to readable format 0ms
   ✓ HtmlParser > parseHtmlEmail > should convert lists to readable format 1ms
   × HtmlParser > parseHtmlEmail > should convert tables to readable format 8ms
     → expected false to be true // Object.is equality
   × HtmlParser > parseHtmlEmail > should preserve link information 2ms
     → expected 'Visit our website for more info. Emai…' to contain 'website (https://example.com)'
   × HtmlParser > parseHtmlEmail > should detect metadata correctly 1ms
     → expected false to be true // Object.is equality
   × HtmlParser > parseHtmlEmail > should handle different charset encodings 1ms
     → expected 'utf-8' to be 'windows-1252' // Object.is equality
   ✓ HtmlParser > parseHtmlEmail > should handle malformed HTML gracefully 0ms
   ✓ HtmlParser > parseHtmlEmail > should handle empty or invalid HTML 1ms
   ✓ HtmlParser > parseHtmlEmail > should fall back to tag stripping on parse errors 1ms
   ✓ HtmlParser > cleanPlainText > should normalize line endings 0ms
   ✓ HtmlParser > cleanPlainText > should convert tabs to spaces 0ms
   × HtmlParser > cleanPlainText > should remove trailing whitespace from lines 1ms
     → expected 'Line 1\nLine 2\n   Line 3' to be 'Line 1\nLine 2\nLine 3' // Object.is equality
   × HtmlParser > cleanPlainText > should limit consecutive line breaks 1ms
     → expected 'Paragraph 1\nParagraph 2' to be 'Paragraph 1\n\nParagraph 2' // Object.is equality
   × HtmlParser > extractSignature > should extract standard email signatures 1ms
     → expected 'Email body content here.\n        \n …' not to contain 'John Doe'
   × HtmlParser > extractSignature > should extract signatures with common closings 0ms
     → expected 'Thanks for your help with the project…' not to contain 'Best regards'
   × HtmlParser > extractSignature > should extract mobile signatures 2ms
     → the given combination of arguments (null and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
   ✓ HtmlParser > extractSignature > should not extract signatures if they are too long 0ms
   ✓ HtmlParser > extractSignature > should return original text if no signature found 0ms
   × HtmlParser > extractSignature > should handle multiple signature patterns and choose the first 1ms
     → expected 'Email content here.\n        \n      …' not to contain 'Best regards'
   ✓ HtmlParser > edge cases and error handling > should handle HTML with only whitespace 0ms
   ✓ HtmlParser > edge cases and error handling > should handle HTML with unicode characters 1ms
   ✓ HtmlParser > edge cases and error handling > should handle deeply nested HTML structures 11ms
   × HtmlParser > edge cases and error handling > should handle HTML with broken encoding 1ms
     → expected 'Text with and & entities Broken entit…' to contain 'Text with   and & entities'
   ✓ HtmlParser > edge cases and error handling > should handle very large HTML content 15ms
   ✓ HtmlParser > edge cases and error handling > should handle hidden elements correctly 0ms
stderr | lib/__tests__/performance.test.ts > Content Filtering Performance Tests > HTML Parser Performance > should parse large HTML content efficiently
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:45:33
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should show loading state during login
Initiating Google login request...

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should show loading state during login
Response received: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should show loading state during login
Response data: { url: [32m'https://accounts.google.com/oauth/authorize'[39m }
Redirecting to: https://accounts.google.com/oauth/authorize

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should call onLoading callback
Initiating Google login request...

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should call onLoading callback
Response received: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should call onLoading callback
Response data: { url: [32m'https://accounts.google.com/oauth/authorize'[39m }
Redirecting to: https://accounts.google.com/oauth/authorize

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should handle login API failure
Initiating Google login request...

stderr | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should handle login API failure
Login error details: {
  error: TypeError: response.text is not a function
      at handleGoogleLogin [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mcomponents/features/auth/GoogleLoginButton.tsx:47:42[90m)[39m,
  message: [32m'response.text is not a function'[39m,
  stack: [32m'TypeError: response.text is not a function\n'[39m +
    [32m'    at handleGoogleLogin (/Users/max/Documents/Coding/Jessie/apps/web/components/features/auth/GoogleLoginButton.tsx:47:42)'[39m,
  type: [32m'object'[39m,
  isNetworkError: [33mfalse[39m
}
stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should handle login API failure
Response received: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }


 ❯ lib/filters/__tests__/domainFilter.test.ts (24 tests | 2 failed) 8ms
   ✓ DomainFilter > filterEmail > should filter emails from blacklisted domains 1ms
   ✓ DomainFilter > filterEmail > should not filter emails from whitelisted domains 0ms
   ✓ DomainFilter > filterEmail > should filter emails with automated patterns 0ms
   ✓ DomainFilter > filterEmail > should filter marketing emails based on content patterns 0ms
   ✓ DomainFilter > filterEmail > should not filter regular emails 0ms
   ✓ DomainFilter > filterEmail > should handle custom blacklist 0ms
   ✓ DomainFilter > filterEmail > should handle custom whitelist 0ms
   ✓ DomainFilter > filterEmail > should handle invalid email addresses 0ms
   ✓ DomainFilter > filterEmail > should use cache when available 1ms
   ✓ DomainFilter > filterEmail > should cache results 0ms
   ✓ DomainFilter > checkEmailSize > should filter emails that exceed size limit 0ms
   ✓ DomainFilter > checkEmailSize > should not filter emails within size limit 0ms
   ✓ DomainFilter > checkEmailSize > should calculate size including HTML content 0ms
   × DomainFilter > getFilterStats > should calculate filtering statistics correctly 3ms
     → expected { …(2) } to have property "Blacklisted domain: facebook.com"
   ✓ DomainFilter > getFilterStats > should return zero stats for empty email list 0ms
   ✓ DomainFilter > content pattern detection > should detect notification emails in strict mode 0ms
   ✓ DomainFilter > content pattern detection > should require multiple marketing patterns for filtering 0ms
   ✓ DomainFilter > content pattern detection > should handle case-insensitive pattern matching 0ms
   ✓ DomainFilter > edge cases > should handle empty strings 0ms
   × DomainFilter > edge cases > should handle undefined/null values gracefully 0ms
     → Cannot read properties of null (reading 'match')
   ✓ DomainFilter > edge cases > should handle special characters in email addresses 0ms
   ✓ DomainFilter > edge cases > should handle very long content 0ms
   ✓ DomainFilter > wildcard domain matching > should match wildcard domains 0ms
   ✓ DomainFilter > wildcard domain matching > should match exact domains 0ms
stdout | __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Complete Chat Flow > should complete full message send and receive flow
Sending message: What emails did I receive about the project?

 ❯ __tests__/e2e/chat-flow.test.tsx (11 tests | 8 failed) 109ms
   × E2E Chat Flow > Complete Chat Flow > should complete full message send and receive flow 64ms
     → expected "spy" to be called with arguments: [ '/api/chat/messages', …(1) ][90m

Number of calls: [1m0[22m
[39m
   ✓ E2E Chat Flow > Complete Chat Flow > should handle retry mechanism for failed messages 8ms
   × E2E Chat Flow > Complete Chat Flow > should handle rate limiting with proper UI feedback 7ms
     → Found multiple elements with the text: /rate limit exceeded/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
[36m>[39m
  [0mRate limit exceeded[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
[36m>[39m
  [0mRate limit exceeded. Please try again later.[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-destructive mb-2"[39m
[36m>[39m
  [0mRate limit exceeded. Please try again later.[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-3 md:gap-4 group justify-end"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%] order-first"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2 justify-end"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs font-medium text-muted-foreground"[39m
                [36m>[39m
                  [0mYou[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [33mtitle[39m=[32m"Jul 29, 2025, 6:06:57 PM"[39m
                [36m>[39m
                  [0mless than a minute ago[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
            relative p-4 rounded-2xl shadow-sm border transition-all duration-200
            bg-primary text-primary-foreground border-primary/20
          "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm md:text-base leading-relaxed whitespace-pre-wrap"[39m
                [36m>[39m
                  [0mFailed message[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-1 text-xs text-destructive"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-circle-alert w-3 h-3"[39m
            ...
   × E2E Chat Flow > Complete Chat Flow > should display message status indicators correctly 5ms
     → Unable to find an element by: [data-testid="/clock-icon/i"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-3 md:gap-4 group justify-end"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%] order-first"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2 justify-end"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs font-medium text-muted-foreground"[39m
                [36m>[39m
                  [0mYou[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [33mtitle[39m=[32m"Jan 1, 2025, 2:00:00 PM"[39m
                [36m>[39m
                  [0m7 months ago[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
            relative p-4 rounded-2xl shadow-sm border transition-all duration-200
            bg-primary text-primary-foreground border-primary/20
          "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm md:text-base leading-relaxed whitespace-pre-wrap"[39m
                [36m>[39m
                  [0mTest message[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1 text-xs text-muted-foreground"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock w-3 h-3 animate-pulse"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"current...
   ✓ E2E Chat Flow > Complete Chat Flow > should show vector search sources in assistant messages 5ms
   ✓ E2E Chat Flow > Complete Chat Flow > should handle empty state correctly 3ms
   × E2E Chat Flow > Complete Chat Flow > should handle loading states properly 11ms
     → Found multiple elements with the role "button" and name `/send message/i`

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
  [33mdisabled[39m=[32m""[39m
  [33mtitle[39m=[32m"Enter a message to send"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-send h-5 w-5"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
    [36m/>[39m
  [36m</svg>[39m
  [36m<span[39m
    [33mclass[39m=[32m"sr-only"[39m
  [36m>[39m
    [0mSend message[0m
  [36m</span>[39m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
  [33mdisabled[39m=[32m""[39m
  [33mtitle[39m=[32m"Enter a message to send"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-loader-circle h-5 w-5 animate-spin"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
    [36m/>[39m
  [36m</svg>[39m
  [36m<span[39m
    [33mclass[39m=[32m"sr-only"[39m
  [36m>[39m
    [0mSend message[0m
  [36m</span>[39m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-loader-circle h-4 w-4 animate-spin text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mSearching through emails...[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                  [36m>[39m
                    [0mFinding relevant messages to help answer your question[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m...
   × E2E Chat Flow > Complete Chat Flow > should handle keyboard shortcuts correctly 2ms
     → Unable to find an element with the placeholder text of: /ask me about your emails/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-loader-circle h-4 w-4 animate-spin text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mSearching through emails...[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                  [36m>[39m
                    [0mFinding relevant messages to help answer your question[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-center"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-md p-4 bg-destructive/10 border border-destructive/20 rounded-lg text-center"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-destructive mb-2"[39m
              [36m>[39m
                [0mRate limit exceeded. Please try again later.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xs text-destructive hover:text-destructive/80 underline transition-colors"[39m
              [36m>[39m
                [0mTry again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div />[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"border-t border-border bg-background/95 backdrop-blur-sm"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative flex items-end gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"
                  w-full resize-none rounded-2xl border border-border bg-background px-4 py-3 pr-12
                  text-sm placeholder:text-muted-foreground
                  focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50
                  disabled:opacity-50 disabled:cursor-not-allowed
                  transition-all duration-200
                  
                "[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mplaceholder[39m=[32m"Rate limited - please wait before sending more messages..."[39m
                  [33mrows[39m=[32m"1"[39m
                  [33mstyle[39m=[32m"min-height: 48px; max-height: 200px; height: 0px;"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mPress [0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border"[39m
                [36m>[39m
                  [0mEnter[0m
                [36m</kbd>[39m
                [0m to send,[0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border ml-1"[39m
                [36m>[39m
                  [0mShift + Enter[0m
                [36m</kbd>[39m
                [0m for new line[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtitle[39m=[32m"Enter a message to send"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-loader-circle h-5 w-5 animate-spin"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"sr-only"[39m
              [36m>[39m
                [0mSend message[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × E2E Chat Flow > Complete Chat Flow > should validate message input correctly 2ms
     → Unable to find an element with the placeholder text of: /ask me about your emails/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-loader-circle h-4 w-4 animate-spin text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mSearching through emails...[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                  [36m>[39m
                    [0mFinding relevant messages to help answer your question[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-center"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-md p-4 bg-destructive/10 border border-destructive/20 rounded-lg text-center"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-destructive mb-2"[39m
              [36m>[39m
                [0mRate limit exceeded. Please try again later.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xs text-destructive hover:text-destructive/80 underline transition-colors"[39m
              [36m>[39m
                [0mTry again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div />[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"border-t border-border bg-background/95 backdrop-blur-sm"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative flex items-end gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"
                  w-full resize-none rounded-2xl border border-border bg-background px-4 py-3 pr-12
                  text-sm placeholder:text-muted-foreground
                  focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50
                  disabled:opacity-50 disabled:cursor-not-allowed
                  transition-all duration-200
                  
                "[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mplaceholder[39m=[32m"Rate limited - please wait before sending more messages..."[39m
                  [33mrows[39m=[32m"1"[39m
                  [33mstyle[39m=[32m"min-height: 48px; max-height: 200px; height: 0px;"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mPress [0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border"[39m
                [36m>[39m
                  [0mEnter[0m
                [36m</kbd>[39m
                [0m to send,[0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border ml-1"[39m
                [36m>[39m
                  [0mShift + Enter[0m
                [36m</kbd>[39m
                [0m for new line[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtitle[39m=[32m"Enter a message to send"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-loader-circle h-5 w-5 animate-spin"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"sr-only"[39m
              [36m>[39m
                [0mSend message[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × E2E Chat Flow > Error Recovery > should recover from network errors with retry 0ms
     → mockStore is not defined
   × E2E Chat Flow > Error Recovery > should handle server errors gracefully 0ms
     → mockStore is not defined
stdout | lib/stores/chatStore.test.ts > chatStore > sendMessage > handles send message error and removes optimistic message
Attempt 2 for message temp-1753798016288

 ❯ app/api/chat/messages/__tests__/route.test.ts (6 tests | 6 failed) 15ms
   × /api/chat/messages > POST > should successfully send a message and return assistant response 9ms
     → expected 400 to be 200 // Object.is equality
   × /api/chat/messages > POST > should return 401 when user is not authenticated 1ms
     → expected 400 to be 401 // Object.is equality
   × /api/chat/messages > POST > should return 404 when chat does not exist 1ms
     → expected 400 to be 404 // Object.is equality
   × /api/chat/messages > POST > should return 400 for invalid request data 1ms
     → expected 'Message is required and must be a str…' to be 'Invalid request data' // Object.is equality
   × /api/chat/messages > POST > should handle vector search errors gracefully 1ms
     → expected 400 to be 200 // Object.is equality
   × /api/chat/messages > POST > should return 429 when rate limited 1ms
     → expected 400 to be 429 // Object.is equality
stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should handle network error
stderr | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should handle network error
Initiating Google login request...
Login error details: {

  error: Error: Network error
      at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mcomponents/features/auth/GoogleLoginButton.test.tsx:102:37
      at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
      at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
      at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
      at new Promise (<anonymous>)
      at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
      at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
      at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
      at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
      at runFiles (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1787:3),
  message: [32m'Network error'[39m,
  stack: [32m'Error: Network error\n'[39m +
    [32m'    at /Users/max/Documents/Coding/Jessie/apps/web/components/features/auth/GoogleLoginButton.test.tsx:102:37\n'[39m +
    [32m'    at file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n'[39m +
    [32m'    at file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n'[39m +
    [32m'    at file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n'[39m +
    [32m'    at new Promise (<anonymous>)\n'[39m +
    [32m'    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n'[39m +
    [32m'    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n'[39m +
    [32m'    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n'[39m +
    [32m'    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n'[39m +
    [32m'    at runFiles (file:///Users/max/Documents/Coding/Jessie/node_modules/@vitest/runner/dist/chunk-hooks.js:1787:3)'[39m,
  type: [32m'object'[39m,
  isNetworkError: [33mfalse[39m
}

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should send correct request payload
Initiating Google login request...

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should send correct request payload
Response received: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should send correct request payload
Response data: { url: [32m'https://accounts.google.com/oauth/authorize'[39m }
Redirecting to: https://accounts.google.com/oauth/authorize

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should use default redirect when none provided
Initiating Google login request...

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should use default redirect when none provided
Response received: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mtrue[39m }

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should use default redirect when none provided
Response data: { url: [32m'https://accounts.google.com/oauth/authorize'[39m }
Redirecting to: https://accounts.google.com/oauth/authorize

stderr | lib/llm/__tests__/embeddingService.test.ts > EmbeddingService > generateEmbedding > should handle API errors
Error generating embedding: Error: API Error
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/llm/__tests__/embeddingService.test.ts:69:36
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)

stderr | components/features/chat/MessageItem.test.tsx > MessageItem > Copy Functionality > copies message to clipboard when copy button is clicked
Warning: An update to MessageItem inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at MessageItem (/Users/max/Documents/Coding/Jessie/apps/web/components/features/chat/MessageItem.tsx:13:24)

stderr | hooks/useAuth.test.ts > useAuth > should initialize with loading state
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/Users/max/Documents/Coding/Jessie/node_modules/@testing-library/react/dist/pure.js:329:5)

stdout | hooks/useAuth.test.ts > useAuth > should handle auth state changes
User signed in successfully

stderr | components/features/chat/ChatList.test.tsx > ChatList > uses virtualization for large lists
Warning: Each child in a list should have a unique "key" prop.

Check the render method of `FixedSizeList`. See https://reactjs.org/link/warning-keys for more information.
    at div
    at FixedSizeList (/Users/max/Documents/Coding/Jessie/apps/web/components/features/chat/ChatList.test.tsx:3:21)
    at div
    at div
    at div
    at ChatList (/Users/max/Documents/Coding/Jessie/apps/web/components/features/chat/ChatList.tsx:18:3)

 ✓ components/features/chat/ChatList.test.tsx (14 tests) 80ms
 ✓ components/features/chat/MessageInput.test.tsx (22 tests) 93ms
 ✓ lib/llm/__tests__/embeddingService.test.ts (8 tests) 508ms
   ✓ EmbeddingService > processLargeTextArray > should process large arrays in batches  501ms
 ✓ hooks/useAuth.test.ts (10 tests) 435ms
 ✓ components/ui/ErrorAlert.test.tsx (9 tests) 467ms
   ✓ ErrorAlert > should auto-hide after delay when autoHide is true  411ms
stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should show retry button on error and handle retry
Initiating Google login request...

stderr | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should show retry button on error and handle retry
Login error details: {
  error: TypeError: response.text is not a function
      at handleGoogleLogin [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mcomponents/features/auth/GoogleLoginButton.tsx:47:42[90m)[39m,
  message: [32m'response.text is not a function'[39m,
  stack: [32m'TypeError: response.text is not a function\n'[39m +
    [32m'    at handleGoogleLogin (/Users/max/Documents/Coding/Jessie/apps/web/components/features/auth/GoogleLoginButton.tsx:47:42)'[39m,
  type: [32m'object'[39m,
  isNetworkError: [33mfalse[39m
}

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should show retry button on error and handle retry
Response received: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should complete full OAuth flow successfully
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should complete full OAuth flow successfully
Initiating OAuth with Supabase {
  provider: [32m'google'[39m,
  redirectTo: [32m'http://localhost:3000/dashboard'[39m,
  supabaseUrl: [32m'https://test.supabase.co'[39m
}

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should complete full OAuth flow successfully
Supabase OAuth response { data: [32m'URL received'[39m, error: [90mundefined[39m }

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should complete full OAuth flow successfully
Exchanging code for session...

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should complete full OAuth flow successfully
Session exchange result: { hasSession: [33mtrue[39m, hasUser: [33mtrue[39m, error: [90mundefined[39m }
Saving Google tokens: {
  hasAccessToken: [33mfalse[39m,
  hasRefreshToken: [33mfalse[39m,
  expiresAt: [90mundefined[39m,
  userId: [32m'user-123'[39m
}

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should complete full OAuth flow successfully
Redirecting to: http://localhost:3000/dashboard
Session cookies should be set, redirecting...

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should handle OAuth flow with errors
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stderr | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should handle OAuth flow with errors
stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should handle OAuth flow with errors
OAuth initiation error: { message: [32m'OAuth failed'[39m }
Initiating OAuth with Supabase {

  provider: [32m'google'[39m,
  redirectTo: [32m'http://localhost:3000/dashboard'[39m,
  supabaseUrl: [32m'https://test.supabase.co'[39m
}

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should handle OAuth flow with errors
Supabase OAuth response { data: [32m'No URL'[39m, error: [32m'OAuth failed'[39m }

stdout | __tests__/integration/oauth-flow.test.ts > OAuth Integration Flow > Complete OAuth Flow > should handle rate limiting across the flow
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

 ✓ __tests__/integration/oauth-flow.test.ts (3 tests) 38ms
 ✓ components/features/chat/ChatItem.test.tsx (16 tests) 67ms
 ✓ lib/stores/authStore.test.ts (11 tests) 13ms
 ✓ __tests__/integration/email-ingestion.test.ts (5 tests) 206ms
 ✓ components/features/chat/ChatLayout.test.tsx (6 tests) 64ms
 ✓ hooks/useChat.test.ts (10 tests) 19ms
stdout | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Message Sending Flow > should send message when user types and presses send
Sending message: Test message

stdout | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Message Sending Flow > should send message when user types and presses send
Message sent successfully: chat-1

stdout | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Message Sending Flow > should handle keyboard shortcuts correctly
Sending message: Test message

stdout | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Message Sending Flow > should handle keyboard shortcuts correctly
Message sent successfully: chat-1

stdout | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Message Sending Flow > should handle keyboard shortcuts correctly
Sending message: Test message
Sending message: Test message
Message sent successfully: chat-1
Message sent successfully: chat-1

stderr | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Message Display > should allow copying messages
Warning: An update to MessageItem inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at MessageItem (/Users/max/Documents/Coding/Jessie/apps/web/components/features/chat/MessageItem.tsx:13:24)
    at div
    at div
    at ChatMessages (/Users/max/Documents/Coding/Jessie/apps/web/components/features/chat/ChatMessages.tsx:12:3)
    at div
    at ChatInterface

stdout | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Integration Scenarios > should handle complete chat flow from empty to populated
Sending message: What are my recent emails?

stdout | __tests__/e2e/chat-flow-simple.test.tsx > E2E Chat Flow - User Experience > Integration Scenarios > should handle complete chat flow from empty to populated
Message sent successfully: chat-1

 ✓ __tests__/e2e/chat-flow-simple.test.tsx (13 tests) 102ms
stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should initiate OAuth flow successfully
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should initiate OAuth flow successfully
Initiating OAuth with Supabase {
  provider: [32m'google'[39m,
  redirectTo: [32m'http://localhost:3000/dashboard'[39m,
  supabaseUrl: [32m'http://localhost:54321'[39m
}

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should initiate OAuth flow successfully
Supabase OAuth response { data: [32m'URL received'[39m, error: [90mundefined[39m }

stderr | app/api/chats/__tests__/route.test.ts > /api/chats > GET > should handle database errors
Error fetching chats: { message: [32m'Database error'[39m }

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle invalid redirect URL
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a new chat successfully
Getting authenticated user...

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a new chat successfully
Auth result: { user: [32m'user-123'[39m, authError: [1mnull[22m }

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a new chat successfully
Creating chat with: { user_id: [32m'user-123'[39m, title: [32m'New Chat'[39m }

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle rate limiting
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a chat with auto-generated title from first message
Getting authenticated user...

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a chat with auto-generated title from first message
Auth result: { user: [32m'user-123'[39m, authError: [1mnull[22m }

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a chat with auto-generated title from first message
Creating chat with: {
  user_id: [32m'user-123'[39m,
  title: [32m'This is a long first message that should be trunca'[39m
}

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle OAuth initiation failure
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle OAuth initiation failure
Initiating OAuth with Supabase {
  provider: [32m'google'[39m,
  redirectTo: [32m'http://localhost:3000/dashboard'[39m,
  supabaseUrl: [32m'http://localhost:54321'[39m
}

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a chat with default title when no title or firstMessage provided
Getting authenticated user...

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a chat with default title when no title or firstMessage provided
Auth result: { user: [32m'user-123'[39m, authError: [1mnull[22m }

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should create a chat with default title when no title or firstMessage provided
Creating chat with: { user_id: [32m'user-123'[39m, title: [32m'New Chat'[39m }

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle OAuth initiation failure
Supabase OAuth response { data: [32m'No URL'[39m, error: [32m'OAuth failed'[39m }

stderr | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle OAuth initiation failure
OAuth initiation error: { message: [32m'OAuth failed'[39m }

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should return 401 when user is not authenticated
Getting authenticated user...

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should return 401 when user is not authenticated
stderr | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should return 401 when user is not authenticated
Authentication failed: [1mnull[22m
Auth result: { user: [90mundefined[39m, authError: [1mnull[22m }


stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle invalid JSON body
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stderr | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should handle invalid JSON body
Login route catch error: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
    at JSON.parse (<anonymous>)
[90m    at parseJSONFromBytes (node:internal/deps/undici/undici:6251:19)[39m
[90m    at successSteps (node:internal/deps/undici/undici:6232:27)[39m
[90m    at readAllBytes (node:internal/deps/undici/undici:5201:13)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stdout | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should validate request schema
Google OAuth POST request received { clientIP: [32m'127.0.0.1'[39m }

stderr | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should return 400 for invalid request data
Error in chats API POST: ZodError: [
  {
    "code": "too_small",
    "minimum": 1,
    "type": "string",
    "inclusive": true,
    "exact": false,
    "message": "String must contain at least 1 character(s)",
    "path": [
      "title"
    ]
  }
]
    at Object.get error [as error] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mzod[24m/v3/types.js:39:31)
    at ZodObject.parse (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mzod[24m/v3/types.js:114:22)
    at Module.POST [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mapp/api/chats/route.ts:107:54[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mapp/api/chats/__tests__/route.test.ts:339:24
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20 {
  issues: [
    {
      code: [32m'too_small'[39m,
      minimum: [33m1[39m,
      type: [32m'string'[39m,
      inclusive: [33mtrue[39m,
      exact: [33mfalse[39m,
      message: [32m'String must contain at least 1 character(s)'[39m,
      path: [36m[Array][39m
    }
  ],
  addIssue: [36m[Function (anonymous)][39m,
  addIssues: [36m[Function (anonymous)][39m,
  errors: [
    {
      code: [32m'too_small'[39m,
      minimum: [33m1[39m,
      type: [32m'string'[39m,
      inclusive: [33mtrue[39m,
      exact: [33mfalse[39m,
      message: [32m'String must contain at least 1 character(s)'[39m,
      path: [36m[Array][39m
    }
  ]
}

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should handle database errors during chat creation
Getting authenticated user...

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should handle database errors during chat creation
Auth result: { user: [32m'user-123'[39m, authError: [1mnull[22m }

stdout | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should handle database errors during chat creation
Creating chat with: { user_id: [32m'user-123'[39m, title: [32m'New Chat'[39m }
stderr | app/api/chats/__tests__/route.test.ts > /api/chats > POST > should handle database errors during chat creation
Error creating chat: { message: [32m'Database error'[39m }


stderr | app/api/auth/google/login/__tests__/route.test.ts > /api/auth/google/login > POST > should validate request schema
Login route catch error: ZodError: [
  {
    "validation": "url",
    "code": "invalid_string",
    "message": "Invalid url",
    "path": [
      "redirectTo"
    ]
  }
]
    at Object.get error [as error] (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mzod[24m/v3/types.js:39:31)
    at ZodObject.parse (file:///Users/max/Documents/Coding/Jessie/node_modules/[4mzod[24m/v3/types.js:114:22)
    at Module.POST [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mapp/api/auth/google/login/route.ts:55:47[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mapp/api/auth/google/login/__tests__/route.test.ts:201:24
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20 {
  issues: [
    {
      validation: [32m'url'[39m,
      code: [32m'invalid_string'[39m,
      message: [32m'Invalid url'[39m,
      path: [36m[Array][39m
    }
  ],
  addIssue: [36m[Function (anonymous)][39m,
  addIssues: [36m[Function (anonymous)][39m,
  errors: [
    {
      validation: [32m'url'[39m,
      code: [32m'invalid_string'[39m,
      message: [32m'Invalid url'[39m,
      path: [36m[Array][39m
    }
  ]
}
Validation error: [
  {
    validation: [32m'url'[39m,
    code: [32m'invalid_string'[39m,
    message: [32m'Invalid url'[39m,
    path: [ [32m'redirectTo'[39m ]
  }
]

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle successful OAuth callback
Exchanging code for session...

 ✓ app/api/chats/__tests__/route.test.ts (10 tests) 17ms
stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle successful OAuth callback
Session exchange result: { hasSession: [33mtrue[39m, hasUser: [33mtrue[39m, error: [90mundefined[39m }
Saving Google tokens: {
  hasAccessToken: [33mfalse[39m,
  hasRefreshToken: [33mfalse[39m,
  expiresAt: [90mundefined[39m,
  userId: [32m'user-123'[39m
}

 ✓ app/api/auth/google/login/__tests__/route.test.ts (6 tests) 19ms
stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle successful OAuth callback
Redirecting to: http://localhost:3000/dashboard
Session cookies should be set, redirecting...

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle session exchange failure
Exchanging code for session...

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle session exchange failure
Session exchange result: { hasSession: [33mfalse[39m, hasUser: [33mfalse[39m, error: [32m'Session exchange failed'[39m }

stderr | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle session exchange failure
Session exchange failed: { message: [32m'Session exchange failed'[39m }

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle user data validation failure
Exchanging code for session...

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should handle user data validation failure
Session exchange result: { hasSession: [33mtrue[39m, hasUser: [33mtrue[39m, error: [90mundefined[39m }

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should validate redirect state parameter
Exchanging code for session...

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should validate redirect state parameter
Session exchange result: { hasSession: [33mtrue[39m, hasUser: [33mtrue[39m, error: [90mundefined[39m }
Saving Google tokens: {
  hasAccessToken: [33mfalse[39m,
  hasRefreshToken: [33mfalse[39m,
  expiresAt: [90mundefined[39m,
  userId: [32m'user-123'[39m
}

stdout | app/api/auth/google/callback/__tests__/route.test.ts > /api/auth/google/callback > GET > should validate redirect state parameter
Redirecting to: /dashboard
Session cookies should be set, redirecting...

 ✓ app/api/auth/google/callback/__tests__/route.test.ts (7 tests) 10ms
 ✓ lib/filters/__tests__/emailFilter.test.ts (26 tests) 7ms
 ❯ lib/repositories/__tests__/vectorRepository.test.ts (18 tests | 3 failed) 13ms
   ✓ VectorRepository > saveEmailEmbedding > should save email embedding successfully 2ms
   ✓ VectorRepository > saveEmailEmbedding > should throw error when save fails 1ms
   ✓ VectorRepository > batchSaveEmbeddings > should save multiple embeddings successfully 0ms
   ✓ VectorRepository > batchSaveEmbeddings > should handle empty vectors array 0ms
   ✓ VectorRepository > batchSaveEmbeddings > should throw error when batch save fails 0ms
   ✓ VectorRepository > searchSimilarVectors > should search similar vectors successfully 0ms
   ✓ VectorRepository > searchSimilarVectors > should search with custom options 0ms
   ✓ VectorRepository > searchSimilarVectors > should throw error when search fails 0ms
   ✓ VectorRepository > getEmailsForVectorization > should get emails that need vectorization 0ms
   ✓ VectorRepository > getEmailsForVectorization > should throw error when getting emails fails 0ms
   ✓ VectorRepository > isEmailVectorized > should return true when email is vectorized 0ms
   ✓ VectorRepository > isEmailVectorized > should return false when email is not vectorized 0ms
   ✓ VectorRepository > isEmailVectorized > should throw error when query fails 0ms
   × VectorRepository > getVectorizationStats > should return vectorization statistics 3ms
     → this.client.from(...).select is not a function
   × VectorRepository > getVectorizationStats > should handle zero counts 1ms
     → this.client.from(...).select is not a function
   × VectorRepository > getVectorizationStats > should throw error when getting total count fails 3ms
     → expected [Function] to throw error including 'Failed to get total emails count: Tot…' but got 'this.client.from(...).select is not a…'
   ✓ VectorRepository > deleteEmailEmbedding > should delete email embedding successfully 0ms
   ✓ VectorRepository > deleteEmailEmbedding > should throw error when delete fails 0ms
stdout | lib/stores/chatStore.test.ts > chatStore > sendMessage > handles send message error and removes optimistic message
Attempt 3 for message temp-1753798016288

stderr | lib/llm/__tests__/openaiClient.test.ts > OpenAIClient > testConnection > should return false on connection error
OpenAI connection test failed: Error: API Error
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/llm/__tests__/openaiClient.test.ts:68:50
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)

 ✓ lib/llm/__tests__/openaiClient.test.ts (5 tests) 5ms
 ✓ lib/llm/__tests__/textProcessor.test.ts (14 tests) 2ms
 ✓ lib/gmail/__tests__/client.test.ts (11 tests) 3ms
 ✓ lib/gmail/__tests__/service.test.ts (8 tests) 5ms
stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should limit retry attempts to 3
Initiating Google login request...

stdout | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should limit retry attempts to 3
Response received: { status: [90mundefined[39m, statusText: [90mundefined[39m, ok: [33mfalse[39m }

stderr | components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should limit retry attempts to 3
Login error details: {
  error: TypeError: response.text is not a function
      at handleGoogleLogin [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mcomponents/features/auth/GoogleLoginButton.tsx:47:42[90m)[39m,
  message: [32m'response.text is not a function'[39m,
  stack: [32m'TypeError: response.text is not a function\n'[39m +
    [32m'    at handleGoogleLogin (/Users/max/Documents/Coding/Jessie/apps/web/components/features/auth/GoogleLoginButton.tsx:47:42)'[39m,
  type: [32m'object'[39m,
  isNetworkError: [33mfalse[39m
}

 ✓ components/features/chat/MessageItem.test.tsx (22 tests) 2098ms
   ✓ MessageItem > Copy Functionality > shows check icon after successful copy  2005ms
stderr | lib/__tests__/performance.test.ts > Content Filtering Performance Tests > HTML Parser Performance > should handle multiple HTML parsing operations concurrently
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:76:36
    at Array.from (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:75:30
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)

stderr | lib/__tests__/performance.test.ts > Content Filtering Performance Tests > HTML Parser Performance > should maintain consistent performance with varying content sizes
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:99:20
    at Array.forEach (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:93:13
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:99:20
    at Array.forEach (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:93:13
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:99:20
    at Array.forEach (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:93:13
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:99:20
    at Array.forEach (<anonymous>)
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:93:13
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)

stderr | lib/__tests__/performance.test.ts > Content Filtering Performance Tests > Memory Leak Detection > should not leak memory during intensive HTML parsing
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:303:20
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)

stderr | lib/__tests__/performance.test.ts > Content Filtering Performance Tests > Stress Testing > should handle extreme load conditions gracefully
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Error parsing HTML content: TypeError: $ is not a function
    at HtmlParser.parseHtmlEmail [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/parsers/htmlParser.ts:27:7[90m)[39m
    at extremeLoadTest [90m(/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:369:52[90m)[39m
    at [90m/Users/max/Documents/Coding/Jessie/apps/web/[39mlib/__tests__/performance.test.ts:395:32
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/max/Documents/Coding/Jessie/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 ❯ lib/__tests__/performance.test.ts (12 tests | 2 failed) 3207ms
   ✓ Content Filtering Performance Tests > HTML Parser Performance > should parse large HTML content efficiently 5ms
   ✓ Content Filtering Performance Tests > HTML Parser Performance > should handle multiple HTML parsing operations concurrently 14ms
   ✓ Content Filtering Performance Tests > HTML Parser Performance > should maintain consistent performance with varying content sizes 2ms
   ✓ Content Filtering Performance Tests > Email Filter Performance > should filter large batches of emails efficiently 54ms
   ✓ Content Filtering Performance Tests > Email Filter Performance > should maintain memory efficiency during repeated filtering 36ms
   ✓ Content Filtering Performance Tests > Email Filter Performance > should demonstrate cache effectiveness on filtering performance 3ms
   ✓ Content Filtering Performance Tests > Domain Filter Performance > should handle large domain lists efficiently 56ms
   ✓ Content Filtering Performance Tests > Domain Filter Performance > should scale well with complex content patterns 0ms
   ✓ Content Filtering Performance Tests > Memory Leak Detection > should not leak memory during intensive HTML parsing 10ms
   × Content Filtering Performance Tests > Memory Leak Detection > should not leak memory during repeated filtering operations 17ms
     → expected 17.629981994628906 to be less than 10
   ✓ Content Filtering Performance Tests > Stress Testing > should handle extreme load conditions gracefully 6ms
   × Content Filtering Performance Tests > Stress Testing > should maintain performance under sustained load 3001ms
     → Maximum call stack size exceeded
 ❯ components/features/auth/GoogleLoginButton.test.tsx (11 tests | 4 failed) 4113ms
   ✓ GoogleLoginButton > should render login button 58ms
   ✓ GoogleLoginButton > should show loading state during login 11ms
   ✓ GoogleLoginButton > should call onLoading callback 8ms
   × GoogleLoginButton > should handle login API failure 1008ms
     → Unable to find an element with the text: OAuth failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
    [36m>[39m
      [36m<svg[39m
        [33mclass[39m=[32m"w-5 h-5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
          [33mfill[39m=[32m"#4285F4"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
          [33mfill[39m=[32m"#34A853"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
          [33mfill[39m=[32m"#FBBC05"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
          [33mfill[39m=[32m"#EA4335"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mContinue with Google[0m
    [36m</button>[39m
    [36m<div[39m
      [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<svg[39m
              [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
              [33mfill[39m=[32m"currentColor"[39m
              [33mviewBox[39m=[32m"0 0 20 20"[39m
            [36m>[39m
              [36m<path[39m
                [33mclip-rule[39m=[32m"evenodd"[39m
                [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                [33mfill-rule[39m=[32m"evenodd"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-3 flex-1"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
            [36m>[39m
              [0mAuthentication Error[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
            [36m>[39m
              [0mresponse.text is not a function[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
              [36m>[39m
                [0mTry Again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-4 w-4"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-3 flex-1"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
              [36m>[39m
                [0mAuthentication Error[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
              [36m>[39m
                [0mresponse.text is not a function[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
                [36m>[39m
                  [0mTry Again[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mfill[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 20 20"[39m
                [36m>[39m
                  [36m<path[39m
                    [33mclip-rule[39m=[32m"evenodd"[39m
                    [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                    [33mfill-rule[39m=[32m"evenodd"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ GoogleLoginButton > should handle network error 4ms
   ✓ GoogleLoginButton > should send correct request payload 3ms
   × GoogleLoginButton > should use default redirect when none provided 1006ms
     → expected "spy" to be called with arguments: [ '/api/auth/google/login', …(1) ][90m

Received: 

[1m  1st spy call:

[22m[33m@@ -1,9 +1,9 @@[90m
[2m  [[22m
[2m    "/api/auth/google/login",[22m
[2m    {[22m
[32m-     "body": "{\"redirectTo\":\"http://localhost:3000/dashboard\"}",[90m
[31m+     "body": "{\"redirectTo\":\"http://localhost:3000/auth/callback\"}",[90m
[2m      "headers": {[22m
[2m        "Content-Type": "application/json",[22m
[2m      },[22m
[2m      "method": "POST",[22m
[2m    },[22m
[39m[90m

Number of calls: [1m1[22m
[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ GoogleLoginButton > should apply custom className 2ms
   ✓ GoogleLoginButton > should display Google logo 1ms
   × GoogleLoginButton > should show retry button on error and handle retry 1006ms
     → Unable to find an element with the text: OAuth failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
    [36m>[39m
      [36m<svg[39m
        [33mclass[39m=[32m"w-5 h-5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
          [33mfill[39m=[32m"#4285F4"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
          [33mfill[39m=[32m"#34A853"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
          [33mfill[39m=[32m"#FBBC05"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
          [33mfill[39m=[32m"#EA4335"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mContinue with Google[0m
    [36m</button>[39m
    [36m<div[39m
      [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<svg[39m
              [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
              [33mfill[39m=[32m"currentColor"[39m
              [33mviewBox[39m=[32m"0 0 20 20"[39m
            [36m>[39m
              [36m<path[39m
                [33mclip-rule[39m=[32m"evenodd"[39m
                [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                [33mfill-rule[39m=[32m"evenodd"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-3 flex-1"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
            [36m>[39m
              [0mAuthentication Error[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
            [36m>[39m
              [0mresponse.text is not a function[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
              [36m>[39m
                [0mTry Again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-4 w-4"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-3 flex-1"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
              [36m>[39m
                [0mAuthentication Error[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
              [36m>[39m
                [0mresponse.text is not a function[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
                [36m>[39m
                  [0mTry Again[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mfill[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 20 20"[39m
                [36m>[39m
                  [36m<path[39m
                    [33mclip-rule[39m=[32m"evenodd"[39m
                    [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                    [33mfill-rule[39m=[32m"evenodd"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   × GoogleLoginButton > should limit retry attempts to 3 1004ms
     → Unable to find an element with the text: OAuth failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
    [36m>[39m
      [36m<svg[39m
        [33mclass[39m=[32m"w-5 h-5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
          [33mfill[39m=[32m"#4285F4"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
          [33mfill[39m=[32m"#34A853"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
          [33mfill[39m=[32m"#FBBC05"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
          [33mfill[39m=[32m"#EA4335"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mContinue with Google[0m
    [36m</button>[39m
    [36m<div[39m
      [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<svg[39m
              [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
              [33mfill[39m=[32m"currentColor"[39m
              [33mviewBox[39m=[32m"0 0 20 20"[39m
            [36m>[39m
              [36m<path[39m
                [33mclip-rule[39m=[32m"evenodd"[39m
                [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                [33mfill-rule[39m=[32m"evenodd"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-3 flex-1"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
            [36m>[39m
              [0mAuthentication Error[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
            [36m>[39m
              [0mresponse.text is not a function[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
              [36m>[39m
                [0mTry Again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-4 w-4"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-3 flex-1"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
              [36m>[39m
                [0mAuthentication Error[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
              [36m>[39m
                [0mresponse.text is not a function[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
                [36m>[39m
                  [0mTry Again[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mfill[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 20 20"[39m
                [36m>[39m
                  [36m<path[39m
                    [33mclip-rule[39m=[32m"evenodd"[39m
                    [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                    [33mfill-rule[39m=[32m"evenodd"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ lib/stores/chatStore.test.ts (16 tests | 2 failed) 5018ms
   ✓ chatStore > Initial State > has correct initial state 2ms
   ✓ chatStore > loadChats > loads chats successfully 1ms
   ✓ chatStore > loadChats > handles load chats error 0ms
   ✓ chatStore > loadChats > sets loading state during fetch 0ms
   ✓ chatStore > createChat > creates chat successfully 0ms
   × chatStore > createChat > handles create chat error 8ms
     → promise resolved "null" instead of rejecting
   ✓ chatStore > selectChat > selects existing chat and loads messages 0ms
   ✓ chatStore > selectChat > does nothing when chat not found 0ms
   ✓ chatStore > sendMessage > sends message successfully with optimistic update 1ms
   × chatStore > sendMessage > handles send message error and removes optimistic message 5004ms
     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   ✓ chatStore > loadMessages > loads messages for chat successfully 0ms
   ✓ chatStore > loadMessages > handles load messages error 0ms
   ✓ chatStore > updateChatTitle > updates chat title successfully 0ms
   ✓ chatStore > deleteChat > deletes chat successfully 0ms
   ✓ chatStore > clearError > clears specific error type 0ms
   ✓ chatStore > reset > resets store to initial state 0ms

⎯⎯⎯⎯⎯⎯ Failed Suites 8 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  lib/__tests__/vectorizationIntegration.test.ts [ lib/__tests__/vectorizationIntegration.test.ts ]
 FAIL  lib/__tests__/vectorizationPerformance.test.ts [ lib/__tests__/vectorizationPerformance.test.ts ]
 FAIL  lib/services/__tests__/vectorizationService.test.ts [ lib/services/__tests__/vectorizationService.test.ts ]
Error: Missing Supabase environment variables
 ❯ ../../packages/lib/src/supabaseClient.ts:7:9
      5| 
      6| if (!supabaseUrl || !supabaseAnonKey) {
      7|   throw new Error('Missing Supabase environment variables');
       |         ^
      8| }
      9| 
 ❯ ../../packages/lib/src/index.ts:2:1

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/64]⎯

 FAIL  components/features/auth/AuthGuard.test.tsx [ components/features/auth/AuthGuard.test.tsx ]
Error: Missing Supabase environment variables
 ❯ lib/auth-client.ts:10:9
      8| 
      9| if (!supabaseUrl || !supabaseAnonKey) {
     10|   throw new Error('Missing Supabase environment variables');
       |         ^
     11| }
     12| 
 ❯ components/features/auth/AuthGuard.tsx:5:1

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/64]⎯

 FAIL  components/features/auth/AuthStatus.test.tsx [ components/features/auth/AuthStatus.test.tsx ]
Error: Missing Supabase environment variables
 ❯ lib/auth-client.ts:10:9
      8| 
      9| if (!supabaseUrl || !supabaseAnonKey) {
     10|   throw new Error('Missing Supabase environment variables');
       |         ^
     11| }
     12| 
 ❯ components/features/auth/AuthStatus.tsx:5:1

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/64]⎯

 FAIL  lib/parsers/__tests__/docxParser.test.ts [ lib/parsers/__tests__/docxParser.test.ts ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ❯ lib/parsers/docxParser.ts:1:1
      1| import mammoth from 'mammoth';
       | ^
      2| import { ParsedAttachment } from '@jessie/lib';
      3| 

Caused by: ReferenceError: Cannot access 'mockMammoth' before initialization
 ❯ lib/parsers/__tests__/docxParser.test.ts:14:12
 ❯ lib/parsers/docxParser.ts:1:1

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/64]⎯

 FAIL  lib/parsers/__tests__/pdfParser.test.ts [ lib/parsers/__tests__/pdfParser.test.ts ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ❯ lib/parsers/pdfParser.ts:1:1
      1| import pdf from 'pdf-parse';
       | ^
      2| import { ParsedAttachment } from '@jessie/lib';
      3| 

Caused by: ReferenceError: Cannot access 'mockPdfParse' before initialization
 ❯ lib/parsers/__tests__/pdfParser.test.ts:7:12
 ❯ lib/parsers/pdfParser.ts:1:1

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/64]⎯

 FAIL  app/api/cron/email-sync/__tests__/route.test.ts [ app/api/cron/email-sync/__tests__/route.test.ts ]
Error: ENOENT: no such file or directory, open './test/data/05-versions-space.pdf'
 ❯ Object.<anonymous> ../../node_modules/pdf-parse/index.js:15:25
     13| 
     14|     let PDF_FILE = './test/data/05-versions-space.pdf';
     15|     let dataBuffer = Fs.readFileSync(PDF_FILE);
       |                         ^
     16|     Pdf(dataBuffer).then(function(data) {
     17|         Fs.writeFileSync(`${PDF_FILE}.txt`, data.text, {

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/64]⎯


⎯⎯⎯⎯⎯⎯ Failed Tests 56 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Complete Chat Flow > should complete full message send and receive flow
AssertionError: expected "spy" to be called with arguments: [ '/api/chat/messages', …(1) ][90m

Number of calls: [1m0[22m
[39m
 ❯ __tests__/e2e/chat-flow.test.tsx:131:25
    129| 
    130|       // Verify API call was made
    131|       expect(mockFetch).toHaveBeenCalledWith('/api/chat/messages', {
       |                         ^
    132|         method: 'POST',
    133|         headers: { 'Content-Type': 'application/json' },

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/64]⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Complete Chat Flow > should handle rate limiting with proper UI feedback
TestingLibraryElementError: Found multiple elements with the text: /rate limit exceeded/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
[36m>[39m
  [0mRate limit exceeded[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
[36m>[39m
  [0mRate limit exceeded. Please try again later.[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-destructive mb-2"[39m
[36m>[39m
  [0mRate limit exceeded. Please try again later.[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-3 md:gap-4 group justify-end"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%] order-first"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2 justify-end"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs font-medium text-muted-foreground"[39m
                [36m>[39m
                  [0mYou[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [33mtitle[39m=[32m"Jul 29, 2025, 6:06:57 PM"[39m
                [36m>[39m
                  [0mless than a minute ago[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
            relative p-4 rounded-2xl shadow-sm border transition-all duration-200
            bg-primary text-primary-foreground border-primary/20
          "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm md:text-base leading-relaxed whitespace-pre-wrap"[39m
                [36m>[39m
                  [0mFailed message[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-1 text-xs text-destructive"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-circle-alert w-3 h-3"[39m
            ...
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError ../../node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError ../../node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ __tests__/e2e/chat-flow.test.tsx:184:21
    182| 
    183|       // Should show rate limit alert
    184|       expect(screen.getByText(/rate limit exceeded/i)).toBeInTheDocume…
       |                     ^
    185|       expect(screen.getByText(/please wait.*before trying again/i)).to…
    186| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/64]⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Complete Chat Flow > should display message status indicators correctly
TestingLibraryElementError: Unable to find an element by: [data-testid="/clock-icon/i"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-3 md:gap-4 group justify-end"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%] order-first"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2 justify-end"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs font-medium text-muted-foreground"[39m
                [36m>[39m
                  [0mYou[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [33mtitle[39m=[32m"Jan 1, 2025, 2:00:00 PM"[39m
                [36m>[39m
                  [0m7 months ago[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
            relative p-4 rounded-2xl shadow-sm border transition-all duration-200
            bg-primary text-primary-foreground border-primary/20
          "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm md:text-base leading-relaxed whitespace-pre-wrap"[39m
                [36m>[39m
                  [0mTest message[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-2 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1 text-xs text-muted-foreground"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock w-3 h-3 animate-pulse"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"current...
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ __tests__/e2e/chat-flow.test.tsx:208:21
    206| 
    207|       expect(screen.getByText(/retrying.*\(1\/3\)/i)).toBeInTheDocumen…
    208|       expect(screen.getByTestId(/clock-icon/i) || screen.getByText(/se…
       |                     ^
    209| 
    210|       // Test failed status

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/64]⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Complete Chat Flow > should handle loading states properly
TestingLibraryElementError: Found multiple elements with the role "button" and name `/send message/i`

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
  [33mdisabled[39m=[32m""[39m
  [33mtitle[39m=[32m"Enter a message to send"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-send h-5 w-5"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
    [36m/>[39m
  [36m</svg>[39m
  [36m<span[39m
    [33mclass[39m=[32m"sr-only"[39m
  [36m>[39m
    [0mSend message[0m
  [36m</span>[39m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
  [33mdisabled[39m=[32m""[39m
  [33mtitle[39m=[32m"Enter a message to send"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-loader-circle h-5 w-5 animate-spin"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
    [36m/>[39m
  [36m</svg>[39m
  [36m<span[39m
    [33mclass[39m=[32m"sr-only"[39m
  [36m>[39m
    [0mSend message[0m
  [36m</span>[39m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-loader-circle h-4 w-4 animate-spin text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mSearching through emails...[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                  [36m>[39m
                    [0mFinding relevant messages to help answer your question[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m...
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError ../../node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError ../../node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ __tests__/e2e/chat-flow.test.tsx:268:33
    266|       render(<ChatInterface />);
    267| 
    268|       const sendButton = screen.getByRole('button', { name: /send mess…
       |                                 ^
    269|       expect(sendButton).toBeDisabled();
    270|       // Should show loading spinner in button

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/64]⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Complete Chat Flow > should handle keyboard shortcuts correctly
TestingLibraryElementError: Unable to find an element with the placeholder text of: /ask me about your emails/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-loader-circle h-4 w-4 animate-spin text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mSearching through emails...[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                  [36m>[39m
                    [0mFinding relevant messages to help answer your question[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-center"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-md p-4 bg-destructive/10 border border-destructive/20 rounded-lg text-center"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-destructive mb-2"[39m
              [36m>[39m
                [0mRate limit exceeded. Please try again later.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xs text-destructive hover:text-destructive/80 underline transition-colors"[39m
              [36m>[39m
                [0mTry again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div />[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"border-t border-border bg-background/95 backdrop-blur-sm"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative flex items-end gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"
                  w-full resize-none rounded-2xl border border-border bg-background px-4 py-3 pr-12
                  text-sm placeholder:text-muted-foreground
                  focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50
                  disabled:opacity-50 disabled:cursor-not-allowed
                  transition-all duration-200
                  
                "[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mplaceholder[39m=[32m"Rate limited - please wait before sending more messages..."[39m
                  [33mrows[39m=[32m"1"[39m
                  [33mstyle[39m=[32m"min-height: 48px; max-height: 200px; height: 0px;"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mPress [0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border"[39m
                [36m>[39m
                  [0mEnter[0m
                [36m</kbd>[39m
                [0m to send,[0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border ml-1"[39m
                [36m>[39m
                  [0mShift + Enter[0m
                [36m</kbd>[39m
                [0m for new line[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtitle[39m=[32m"Enter a message to send"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-loader-circle h-5 w-5 animate-spin"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"sr-only"[39m
              [36m>[39m
                [0mSend message[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ __tests__/e2e/chat-flow.test.tsx:277:35
    275|       render(<ChatInterface />);
    276| 
    277|       const messageInput = screen.getByPlaceholderText(/ask me about y…
       |                                   ^
    278|       
    279|       // Type message

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/64]⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Complete Chat Flow > should validate message input correctly
TestingLibraryElementError: Unable to find an element with the placeholder text of: /ask me about your emails/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Chat interface"[39m
      [33mclass[39m=[32m"flex flex-col h-full"[39m
      [33mrole[39m=[32m"main"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4 border-b border-border"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-alert h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"8"[39m
              [33my2[39m=[32m"12"[39m
            [36m/>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12.01"[39m
              [33my1[39m=[32m"16"[39m
              [33my2[39m=[32m"16"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-orange-800 dark:text-orange-200"[39m
            [36m>[39m
              [0mRate limit exceeded[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-orange-700 dark:text-orange-300 mt-1"[39m
            [36m>[39m
              [0mRate limit exceeded. Please try again later.[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-2 text-xs text-orange-600 dark:text-orange-400"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span>[39m
                [0mPlease wait [0m
                [0m1m 0s[0m
                [0m before trying again[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent h-9 rounded-md px-3 text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200"[39m
            [36m>[39m
              [0m×[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
        [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-loader-circle h-4 w-4 animate-spin text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mSearching through emails...[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                  [36m>[39m
                    [0mFinding relevant messages to help answer your question[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-center"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-md p-4 bg-destructive/10 border border-destructive/20 rounded-lg text-center"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-destructive mb-2"[39m
              [36m>[39m
                [0mRate limit exceeded. Please try again later.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xs text-destructive hover:text-destructive/80 underline transition-colors"[39m
              [36m>[39m
                [0mTry again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div />[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"border-t border-border bg-background/95 backdrop-blur-sm"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 max-w-4xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative flex items-end gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"
                  w-full resize-none rounded-2xl border border-border bg-background px-4 py-3 pr-12
                  text-sm placeholder:text-muted-foreground
                  focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50
                  disabled:opacity-50 disabled:cursor-not-allowed
                  transition-all duration-200
                  
                "[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mplaceholder[39m=[32m"Rate limited - please wait before sending more messages..."[39m
                  [33mrows[39m=[32m"1"[39m
                  [33mstyle[39m=[32m"min-height: 48px; max-height: 200px; height: 0px;"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mPress [0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border"[39m
                [36m>[39m
                  [0mEnter[0m
                [36m</kbd>[39m
                [0m to send,[0m
                [36m<kbd[39m
                  [33mclass[39m=[32m"px-1 py-0.5 rounded text-xs bg-muted border ml-1"[39m
                [36m>[39m
                  [0mShift + Enter[0m
                [36m</kbd>[39m
                [0m for new line[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-12 w-12 p-0 rounded-2xl transition-all duration-200 hover:scale-105 active:scale-95"[39m
              [33mdisabled[39m=[32m""[39m
              [33mtitle[39m=[32m"Enter a message to send"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-loader-circle h-5 w-5 animate-spin"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"sr-only"[39m
              [36m>[39m
                [0mSend message[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ __tests__/e2e/chat-flow.test.tsx:310:35
    308|       render(<ChatInterface />);
    309| 
    310|       const messageInput = screen.getByPlaceholderText(/ask me about y…
       |                                   ^
    311|       const sendButton = screen.getByRole('button', { name: /send mess…
    312| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/64]⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Error Recovery > should recover from network errors with retry
ReferenceError: mockStore is not defined
 ❯ __tests__/e2e/chat-flow.test.tsx:348:7
    346| 
    347|       let attemptCount = 0;
    348|       mockStore.sendMessage.mockImplementation(async () => {
       |       ^
    349|         attemptCount++;
    350|         if (attemptCount === 1) {

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/64]⎯

 FAIL  __tests__/e2e/chat-flow.test.tsx > E2E Chat Flow > Error Recovery > should handle server errors gracefully
ReferenceError: mockStore is not defined
 ❯ __tests__/e2e/chat-flow.test.tsx:381:7
    379|       });
    380| 
    381|       mockStore.error.sending = 'Server error occurred';
       |       ^
    382| 
    383|       render(<ChatInterface />);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/64]⎯

 FAIL  __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Rate Limiting Handling > should detect rate limiting errors and retry with appropriate delays
TypeError: Cannot read properties of undefined (reading 'error')
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:287:41
    285| 
    286|       // Check that message shows rate limit status
    287|       expect(result.current.messages[0].error).toBe('Rate limited - re…
       |                                         ^
    288|       expect(result.current.messages[0].retryCount).toBe(1);
    289| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/64]⎯

 FAIL  __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Rate Limiting Handling > should handle 429 HTTP status as rate limiting error
TypeError: Cannot set properties of null (setting 'chats')
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:308:24
    306|       // Setup store with a chat
    307|       act(() => {
    308|         result.current.chats = [{
       |                        ^
    309|           id: 'chat-1',
    310|           userId: 'user-1',
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ act ../../node_modules/react/cjs/react.development.js:2512:16
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:307:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/64]⎯

 FAIL  __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Rate Limiting Handling > should show different error message for rate limit vs other errors
TypeError: Cannot set properties of null (setting 'chats')
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:349:24
    347|       // Setup store with a chat
    348|       act(() => {
    349|         result.current.chats = [{
       |                        ^
    350|           id: 'chat-1',
    351|           userId: 'user-1',
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ act ../../node_modules/react/cjs/react.development.js:2512:16
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:348:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/64]⎯

 FAIL  __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Error Recovery Scenarios > should recover from intermittent network issues
TypeError: Cannot set properties of null (setting 'chats')
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:407:24
    405|       // Setup store
    406|       act(() => {
    407|         result.current.chats = [{
       |                        ^
    408|           id: 'chat-1',
    409|           userId: 'user-1',
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ act ../../node_modules/react/cjs/react.development.js:2512:16
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:406:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/64]⎯

 FAIL  __tests__/e2e/retry-and-rate-limiting.test.ts > E2E Retry Mechanism and Rate Limiting > Error Recovery Scenarios > should handle mixed error types correctly
TypeError: Cannot set properties of null (setting 'chats')
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:474:24
    472|       // Setup store
    473|       act(() => {
    474|         result.current.chats = [{
       |                        ^
    475|           id: 'chat-1',
    476|           userId: 'user-1',
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ act ../../node_modules/react/cjs/react.development.js:2512:16
 ❯ ../../node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ __tests__/e2e/retry-and-rate-limiting.test.ts:473:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/64]⎯

 FAIL  lib/__tests__/performance.test.ts > Content Filtering Performance Tests > Memory Leak Detection > should not leak memory during repeated filtering operations
AssertionError: expected 17.629981994628906 to be less than 10
 ❯ lib/__tests__/performance.test.ts:356:33
    354|       // Memory should not grow significantly
    355|       const maxMemoryIncrease = Math.max(...memoryReadings) / 1024 / 1…
    356|       expect(maxMemoryIncrease).toBeLessThan(10); // Should not increa…
       |                                 ^
    357|     });
    358|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/64]⎯

 FAIL  lib/__tests__/performance.test.ts > Content Filtering Performance Tests > Stress Testing > should maintain performance under sustained load
RangeError: Maximum call stack size exceeded
 ❯ sustainedLoadTest lib/__tests__/performance.test.ts:438:30
    436|           totalOperations: operationCount,
    437|           avgBatchTime: performanceReadings.reduce((a, b) => a + b, 0)…
    438|           maxBatchTime: Math.max(...performanceReadings),
       |                              ^
    439|           minBatchTime: Math.min(...performanceReadings),
    440|         };
 ❯ lib/__tests__/performance.test.ts:443:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/64]⎯

 FAIL  lib/stores/chatStore.test.ts > chatStore > createChat > handles create chat error
AssertionError: promise resolved "null" instead of rejecting

[32m- Expected:[39m 
Error {
  "message": "rejected promise",
}

[31m+ Received:[39m 
null

 ❯ lib/stores/chatStore.test.ts:132:59
    130|       const store = useChatStore.getState();
    131|       
    132|       await expect(store.createChat({ title: 'New Chat' })).rejects.to…
       |                                                           ^
    133|     });
    134|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/64]⎯

 FAIL  lib/stores/chatStore.test.ts > chatStore > sendMessage > handles send message error and removes optimistic message
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ lib/stores/chatStore.test.ts:215:5
    213|     });
    214| 
    215|     it('handles send message error and removes optimistic message', as…
       |     ^
    216|       mockFetch.mockResolvedValueOnce({
    217|         ok: false,

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/64]⎯

 FAIL  components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should handle login API failure
TestingLibraryElementError: Unable to find an element with the text: OAuth failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
    [36m>[39m
      [36m<svg[39m
        [33mclass[39m=[32m"w-5 h-5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
          [33mfill[39m=[32m"#4285F4"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
          [33mfill[39m=[32m"#34A853"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
          [33mfill[39m=[32m"#FBBC05"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
          [33mfill[39m=[32m"#EA4335"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mContinue with Google[0m
    [36m</button>[39m
    [36m<div[39m
      [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<svg[39m
              [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
              [33mfill[39m=[32m"currentColor"[39m
              [33mviewBox[39m=[32m"0 0 20 20"[39m
            [36m>[39m
              [36m<path[39m
                [33mclip-rule[39m=[32m"evenodd"[39m
                [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                [33mfill-rule[39m=[32m"evenodd"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-3 flex-1"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
            [36m>[39m
              [0mAuthentication Error[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
            [36m>[39m
              [0mresponse.text is not a function[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
              [36m>[39m
                [0mTry Again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-4 w-4"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-3 flex-1"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
              [36m>[39m
                [0mAuthentication Error[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
              [36m>[39m
                [0mresponse.text is not a function[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
                [36m>[39m
                  [0mTry Again[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mfill[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 20 20"[39m
                [36m>[39m
                  [36m<path[39m
                    [33mclip-rule[39m=[32m"evenodd"[39m
                    [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                    [33mfill-rule[39m=[32m"evenodd"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ waitForWrapper ../../node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ components/features/auth/GoogleLoginButton.test.tsx:92:11
     90|     fireEvent.click(button);
     91| 
     92|     await waitFor(() => {
       |           ^
     93|       expect(screen.getByText('OAuth failed')).toBeInTheDocument();
     94|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/64]⎯

 FAIL  components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should use default redirect when none provided
AssertionError: expected "spy" to be called with arguments: [ '/api/auth/google/login', …(1) ][90m

Received: 

[1m  1st spy call:

[22m[33m@@ -1,9 +1,9 @@[90m
[2m  [[22m
[2m    "/api/auth/google/login",[22m
[2m    {[22m
[32m-     "body": "{\"redirectTo\":\"http://localhost:3000/dashboard\"}",[90m
[31m+     "body": "{\"redirectTo\":\"http://localhost:3000/auth/callback\"}",[90m
[2m      "headers": {[22m
[2m        "Content-Type": "application/json",[22m
[2m      },[22m
[2m      "method": "POST",[22m
[2m    },[22m
[39m[90m

Number of calls: [1m1[22m
[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ components/features/auth/GoogleLoginButton.test.tsx:150:25
    148| 
    149|     await waitFor(() => {
    150|       expect(mockFetch).toHaveBeenCalledWith('/api/auth/google/login',…
       |                         ^
    151|         method: 'POST',
    152|         headers: {
 ❯ runWithExpensiveErrorDiagnosticsDisabled ../../node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback ../../node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback ../../node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/64]⎯

 FAIL  components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should show retry button on error and handle retry
TestingLibraryElementError: Unable to find an element with the text: OAuth failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
    [36m>[39m
      [36m<svg[39m
        [33mclass[39m=[32m"w-5 h-5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
          [33mfill[39m=[32m"#4285F4"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
          [33mfill[39m=[32m"#34A853"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
          [33mfill[39m=[32m"#FBBC05"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
          [33mfill[39m=[32m"#EA4335"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mContinue with Google[0m
    [36m</button>[39m
    [36m<div[39m
      [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<svg[39m
              [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
              [33mfill[39m=[32m"currentColor"[39m
              [33mviewBox[39m=[32m"0 0 20 20"[39m
            [36m>[39m
              [36m<path[39m
                [33mclip-rule[39m=[32m"evenodd"[39m
                [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                [33mfill-rule[39m=[32m"evenodd"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-3 flex-1"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
            [36m>[39m
              [0mAuthentication Error[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
            [36m>[39m
              [0mresponse.text is not a function[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
              [36m>[39m
                [0mTry Again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-4 w-4"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-3 flex-1"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
              [36m>[39m
                [0mAuthentication Error[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
              [36m>[39m
                [0mresponse.text is not a function[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
                [36m>[39m
                  [0mTry Again[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mfill[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 20 20"[39m
                [36m>[39m
                  [36m<path[39m
                    [33mclip-rule[39m=[32m"evenodd"[39m
                    [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                    [33mfill-rule[39m=[32m"evenodd"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ waitForWrapper ../../node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ components/features/auth/GoogleLoginButton.test.tsx:194:11
    192| 
    193|     // Wait for error to appear
    194|     await waitFor(() => {
       |           ^
    195|       expect(screen.getByText('OAuth failed')).toBeInTheDocument();
    196|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/64]⎯

 FAIL  components/features/auth/GoogleLoginButton.test.tsx > GoogleLoginButton > should limit retry attempts to 3
TestingLibraryElementError: Unable to find an element with the text: OAuth failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
    [36m>[39m
      [36m<svg[39m
        [33mclass[39m=[32m"w-5 h-5"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
          [33mfill[39m=[32m"#4285F4"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
          [33mfill[39m=[32m"#34A853"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
          [33mfill[39m=[32m"#FBBC05"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
          [33mfill[39m=[32m"#EA4335"[39m
        [36m/>[39m
      [36m</svg>[39m
      [0mContinue with Google[0m
    [36m</button>[39m
    [36m<div[39m
      [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<svg[39m
              [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
              [33mfill[39m=[32m"currentColor"[39m
              [33mviewBox[39m=[32m"0 0 20 20"[39m
            [36m>[39m
              [36m<path[39m
                [33mclip-rule[39m=[32m"evenodd"[39m
                [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                [33mfill-rule[39m=[32m"evenodd"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-3 flex-1"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
            [36m>[39m
              [0mAuthentication Error[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
            [36m>[39m
              [0mresponse.text is not a function[0m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-3"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
              [36m>[39m
                [0mTry Again[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-4 w-4"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<button[39m
        [33mclass[39m=[32m"flex items-center justify-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-gray-700 font-medium text-sm"[39m
      [36m>[39m
        [36m<svg[39m
          [33mclass[39m=[32m"w-5 h-5"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"[39m
            [33mfill[39m=[32m"#4285F4"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"[39m
            [33mfill[39m=[32m"#34A853"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"[39m
            [33mfill[39m=[32m"#FBBC05"[39m
          [36m/>[39m
          [36m<path[39m
            [33md[39m=[32m"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"[39m
            [33mfill[39m=[32m"#EA4335"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mContinue with Google[0m
      [36m</button>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed top-4 right-4 max-w-md w-full z-50 transition-all duration-300 transform translate-x-0 opacity-100"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"h-5 w-5 text-red-400"[39m
                [33mfill[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 20 20"[39m
              [36m>[39m
                [36m<path[39m
                  [33mclip-rule[39m=[32m"evenodd"[39m
                  [33md[39m=[32m"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"[39m
                  [33mfill-rule[39m=[32m"evenodd"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-3 flex-1"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-sm font-medium text-red-800"[39m
              [36m>[39m
                [0mAuthentication Error[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-700"[39m
              [36m>[39m
                [0mresponse.text is not a function[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-3"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1"[39m
                [36m>[39m
                  [0mTry Again[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"ml-4 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"h-4 w-4"[39m
                  [33mfill[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 20 20"[39m
                [36m>[39m
                  [36m<path[39m
                    [33mclip-rule[39m=[32m"evenodd"[39m
                    [33md[39m=[32m"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"[39m
                    [33mfill-rule[39m=[32m"evenodd"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ waitForWrapper ../../node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ components/features/auth/GoogleLoginButton.test.tsx:224:11
    222|     // Initial attempt
    223|     fireEvent.click(button);
    224|     await waitFor(() => screen.getByText('OAuth failed'));
       |           ^
    225|     
    226|     // Retry 1

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/64]⎯

 FAIL  components/features/chat/ChatMessages.test.tsx > ChatMessages > shows loading indicator when loading
TestingLibraryElementError: Unable to find an element with the text: Jessie is thinking.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth"[39m
      [33mstyle[39m=[32m"scrollbar-gutter: stable;"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4 md:space-y-6 max-w-4xl mx-auto"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-is-last[39m=[32m"false"[39m
          [33mdata-testid[39m=[32m"message-1"[39m
        [36m>[39m
          [36m<div>[39m
            [0muser[0m
            [0m: [0m
            [0mHello, how are you?[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-is-last[39m=[32m"false"[39m
          [33mdata-testid[39m=[32m"message-2"[39m
        [36m>[39m
          [36m<div>[39m
            [0massistant[0m
            [0m: [0m
            [0mI am doing well, thank you for asking![0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-is-last[39m=[32m"true"[39m
          [33mdata-testid[39m=[32m"message-3"[39m
        [36m>[39m
          [36m<div>[39m
            [0muser[0m
            [0m: [0m
            [0mCan you help me with my emails?[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-start"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-[85%] md:max-w-[70%]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-3 p-4 bg-card border border-border/50 rounded-2xl shadow-sm"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"loader-icon"[39m
              [36m>[39m
                [0mLoading...[0m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                [36m>[39m
                  [0mSearching through emails...[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground/70 mt-1"[39m
                [36m>[39m
                  [0mFinding relevant messages to help answer your question[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div />[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ components/features/chat/ChatMessages.test.tsx:80:19
     78| 
     79|     expect(screen.getByTestId('loader-icon')).toBeInTheDocument();
     80|     expect(screen.getByText('Jessie is thinking...')).toBeInTheDocumen…
       |                   ^
     81|   });
     82| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/64]⎯

 FAIL  lib/filters/__tests__/domainFilter.test.ts > DomainFilter > getFilterStats > should calculate filtering statistics correctly
AssertionError: expected { …(2) } to have property "Blacklisted domain: facebook.com"
 ❯ lib/filters/__tests__/domainFilter.test.ts:269:29
    267|       expect(stats.total).toBe(3);
    268|       expect(stats.filtered).toBe(2); // facebook.com and marketing em…
    269|       expect(stats.reasons).toHaveProperty('Blacklisted domain: facebo…
       |                             ^
    270|       expect(stats.reasons).toHaveProperty('Marketing email detected');
    271|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/64]⎯

 FAIL  lib/filters/__tests__/domainFilter.test.ts > DomainFilter > edge cases > should handle undefined/null values gracefully
TypeError: Cannot read properties of null (reading 'match')
 ❯ extractDomain lib/filters/__tests__/domainFilter.test.ts:37:25
     35|   },
     36|   extractDomain: (email: string) => {
     37|     const match = email.match(/@([^@]+)/);
       |                         ^
     38|     return match ? match[1] : null;
     39|   },
 ❯ DomainFilter.filterEmail lib/filters/domainFilter.ts:30:20
 ❯ lib/filters/__tests__/domainFilter.test.ts:335:35

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > isAttachmentSupported > should use mime-types lookup as fallback
TypeError: lookup.mockReturnValue is not a function
 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:156:14
    154|     it('should use mime-types lookup as fallback', () => {
    155|       const { lookup } = require('mime-types');
    156|       lookup.mockReturnValue('application/pdf');
       |              ^
    157| 
    158|       const attachmentWithoutMime: AttachmentInfo = {

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > processAttachment > should skip unsupported attachments
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:214:30
    212|       );
    213| 
    214|       expect(result.success).toBe(true);
       |                              ^
    215|       expect(result.skipped).toBe(true);
    216|       expect(result.reason).toBe('Unsupported file type: image/jpeg');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > processAttachment > should handle validation errors
AssertionError: expected 'Validation failed: PDF: Invalid PDF h…' to be 'Validation failed: Invalid PDF header…' // Object.is equality

Expected: [32m"Validation failed: Invalid PDF header, File too small"[39m
Received: [31m"Validation failed:[7m PDF:[27m Invalid PDF header,[7m PDF:[27m File too small"[39m

 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:229:28
    227| 
    228|       expect(result.success).toBe(false);
    229|       expect(result.error).toBe('Validation failed: Invalid PDF header…
       |                            ^
    230|       expect(result.parsedAttachment).toBeUndefined();
    231|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > processAttachment > should handle unknown file types
AssertionError: expected 'Validation failed: Size mismatch: buf…' to be 'Unsupported attachment type: applicat…' // Object.is equality

Expected: [32m"Unsupported attachment type: application/xyz"[39m
Received: [31m"Validation failed: Size mismatch: buffer 12 vs metadata 1000"[39m

 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:260:28
    258| 
    259|       expect(result.success).toBe(false);
    260|       expect(result.error).toBe('Unsupported attachment type: applicat…
       |                            ^
    261|     });
    262| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > processAttachments > should handle mixed results (processed, errors, skipped)
AssertionError: expected [] to have a length of 1 but got +0

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:336:30
    334| 
    335|       expect(result.processed).toHaveLength(1);
    336|       expect(result.skipped).toHaveLength(1);
       |                              ^
    337|       expect(result.errors).toHaveLength(1);
    338|       expect(result.stats.total).toBe(3);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > file type detection > should detect PDF files by extension
AssertionError: expected "spy" to be called at least once
 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:434:48
    432|       const result = await attachmentProcessor.processAttachment(mockP…
    433|       
    434|       expect(mockPdfParser.parsePdfAttachment).toHaveBeenCalled();
       |                                                ^
    435|     });
    436| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > file type detection > should detect DOCX files by extension
AssertionError: expected "spy" to be called at least once
 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:452:50
    450|       const result = await attachmentProcessor.processAttachment(mockD…
    451|       
    452|       expect(mockDocxParser.parseDocxAttachment).toHaveBeenCalled();
       |                                                  ^
    453|     });
    454| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/64]⎯

 FAIL  lib/parsers/__tests__/attachmentProcessor.test.ts > AttachmentProcessor > file type detection > should handle various DOCX extensions and MIME types
AssertionError: expected "spy" to be called at least once
 ❯ lib/parsers/__tests__/attachmentProcessor.test.ts:472:52
    470|         await attachmentProcessor.processAttachment(mockDocxBuffer, at…
    471|         
    472|         expect(mockDocxParser.parseDocxAttachment).toHaveBeenCalled();
       |                                                    ^
    473|       }
    474|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > parseHtmlEmail > should convert tables to readable format
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:154:41
    152|       expect(result.plainText).toContain('Jane | 25 | Boston');
    153|       expect(result.plainText).toContain('--- END TABLE ---');
    154|       expect(result.metadata.hasTables).toBe(true);
       |                                         ^
    155|     });
    156| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > parseHtmlEmail > should preserve link information
AssertionError: expected 'Visit our website for more info. Emai…' to contain 'website (https://example.com)'

Expected: [32m"website (https://example.com)"[39m
Received: [31m"Visit our website for more info. Email us at test@example.com https://long-url.com/path"[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:170:32
    168|       const result = htmlParser.parseHtmlEmail(htmlContent);
    169| 
    170|       expect(result.plainText).toContain('website (https://example.com…
       |                                ^
    171|       expect(result.plainText).toContain('test@example.com (mailto:tes…
    172|       expect(result.plainText).toContain('https://long-url.com/path');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > parseHtmlEmail > should detect metadata correctly
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:192:40
    190|       const result = htmlParser.parseHtmlEmail(htmlContent);
    191| 
    192|       expect(result.metadata.hasLinks).toBe(true);
       |                                        ^
    193|       expect(result.metadata.hasImages).toBe(true);
    194|       expect(result.metadata.hasTables).toBe(true);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > parseHtmlEmail > should handle different charset encodings
AssertionError: expected 'utf-8' to be 'windows-1252' // Object.is equality

Expected: [32m"windows-1252"[39m
Received: [31m"utf-8"[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:222:41
    220| 
    221|       expect(result1.metadata.encoding).toBe('utf-8');
    222|       expect(result2.metadata.encoding).toBe('windows-1252');
       |                                         ^
    223|     });
    224| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > cleanPlainText > should remove trailing whitespace from lines
AssertionError: expected 'Line 1\nLine 2\n   Line 3' to be 'Line 1\nLine 2\nLine 3' // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[2m  Line 1[22m
[2m  Line 2[22m
[32m- Line 3[39m
[31m+ [7m   [27mLine 3[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:290:22
    288|       const result = htmlParser.cleanPlainText(text);
    289| 
    290|       expect(result).toBe('Line 1\nLine 2\nLine 3');
       |                      ^
    291|     });
    292| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > cleanPlainText > should limit consecutive line breaks
AssertionError: expected 'Paragraph 1\nParagraph 2' to be 'Paragraph 1\n\nParagraph 2' // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[2m  Paragraph 1[22m
[32m-[39m
[2m  Paragraph 2[22m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:297:22
    295|       const result = htmlParser.cleanPlainText(text);
    296| 
    297|       expect(result).toBe('Paragraph 1\n\nParagraph 2');
       |                      ^
    298|     });
    299|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > extractSignature > should extract standard email signatures
AssertionError: expected 'Email body content here.\n        \n …' not to contain 'John Doe'

[32m- Expected[39m
[31m+ Received[39m

[32m- John Doe[39m
[31m+ Email body content here.[39m
[31m+         [39m
[31m+         --[39m
[31m+         John Doe[39m
[31m+         Software Engineer[39m
[31m+         Company Inc.[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:315:34
    313| 
    314|       expect(result.content).toContain('Email body content');
    315|       expect(result.content).not.toContain('John Doe');
       |                                  ^
    316|       expect(result.signature).toContain('John Doe');
    317|       expect(result.signature).toContain('Software Engineer');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > extractSignature > should extract signatures with common closings
AssertionError: expected 'Thanks for your help with the project…' not to contain 'Best regards'

[32m- Expected[39m
[31m+ Received[39m

[32m- Best regards[39m
[31m+ Thanks for your help with the project.[39m
[31m+         [39m
[31m+         Best regards,[39m
[31m+         Jane Smith[39m
[31m+         Project Manager[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:332:34
    330| 
    331|       expect(result.content).toContain('Thanks for your help');
    332|       expect(result.content).not.toContain('Best regards');
       |                                  ^
    333|       expect(result.signature).toContain('Jane Smith');
    334|       expect(result.signature).toContain('Project Manager');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > extractSignature > should extract mobile signatures
AssertionError: the given combination of arguments (null and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
 ❯ lib/parsers/__tests__/htmlParser.test.ts:347:32
    345| 
    346|       expect(result.content).toContain('Quick reply from mobile');
    347|       expect(result.signature).toContain('Sent from my iPhone');
       |                                ^
    348|     });
    349| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > extractSignature > should handle multiple signature patterns and choose the first
AssertionError: expected 'Email content here.\n        \n      …' not to contain 'Best regards'

[32m- Expected[39m
[31m+ Received[39m

[32m- Best regards[39m
[31m+ Email content here.[39m
[31m+         [39m
[31m+         Best regards,[39m
[31m+         John[39m
[31m+         [39m
[31m+         --[39m
[31m+         Company signature[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:387:34
    385| 
    386|       expect(result.content).toContain('Email content');
    387|       expect(result.content).not.toContain('Best regards');
       |                                  ^
    388|       expect(result.signature).toContain('John');
    389|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/64]⎯

 FAIL  lib/parsers/__tests__/htmlParser.test.ts > HtmlParser > edge cases and error handling > should handle HTML with broken encoding
AssertionError: expected 'Text with and & entities Broken entit…' to contain 'Text with   and & entities'

Expected: [32m"Text with [7m  [27mand & entities"[39m
Received: [31m"Text with and & entities[7m Broken entity: &invalid;[27m"[39m

 ❯ lib/parsers/__tests__/htmlParser.test.ts:448:32
    446|       const result = htmlParser.parseHtmlEmail(htmlContent);
    447| 
    448|       expect(result.plainText).toContain('Text with   and & entities');
       |                                ^
    449|       // Should handle broken entities gracefully
    450|       expect(result.plainText).toContain('invalid');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/64]⎯

 FAIL  lib/repositories/__tests__/emailRepository.test.ts > EmailRepository > saveEmail > should save email successfully
AssertionError: expected "spy" to be called with arguments: [ { user_id: 'user123', …(9) } ][90m

Received: 

[1m  1st spy call:

[22m[33m@@ -1,12 +1,15 @@[90m
[2m  [[22m
[2m    {[22m
[2m      "body_html": "<p>Test body</p>",[22m
[2m      "body_text": "Test body",[22m
[2m      "date_sent": "2024-01-01T00:00:00.000Z",[22m
[31m+     "filter_reason": null,[90m
[2m      "google_message_id": "msg123",[22m
[2m      "has_attachments": false,[22m
[31m+     "is_filtered": false,[90m
[31m+     "processed_at": null,[90m
[2m      "recipient": "recipient@example.com",[22m
[2m      "sender": "sender@example.com",[22m
[2m      "subject": "Test Subject",[22m
[2m      "thread_id": "thread123",[22m
[2m      "user_id": "user123",[22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ lib/repositories/__tests__/emailRepository.test.ts:77:41
     75|       expect(result).toEqual(mockResult);
     76|       expect(mockSupabaseClient.from).toHaveBeenCalledWith('emails');
     77|       expect(mockSupabaseClient.insert).toHaveBeenCalledWith({
       |                                         ^
     78|         user_id: 'user123',
     79|         google_message_id: 'msg123',

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/64]⎯

 FAIL  lib/repositories/__tests__/vectorRepository.test.ts > VectorRepository > getVectorizationStats > should return vectorization statistics
TypeError: this.client.from(...).select is not a function
 ❯ VectorRepository.getVectorizationStats lib/repositories/vectorRepository.ts:159:8
    157|     const { data: totalData, error: totalError } = await this.client
    158|       .from('emails')
    159|       .select('id', { count: 'exact' })
       |        ^
    160|       .eq('user_id', userId)
    161|       .eq('is_filtered', false);
 ❯ lib/repositories/__tests__/vectorRepository.test.ts:342:44

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/64]⎯

 FAIL  lib/repositories/__tests__/vectorRepository.test.ts > VectorRepository > getVectorizationStats > should handle zero counts
TypeError: this.client.from(...).select is not a function
 ❯ VectorRepository.getVectorizationStats lib/repositories/vectorRepository.ts:159:8
    157|     const { data: totalData, error: totalError } = await this.client
    158|       .from('emails')
    159|       .select('id', { count: 'exact' })
       |        ^
    160|       .eq('user_id', userId)
    161|       .eq('is_filtered', false);
 ❯ lib/repositories/__tests__/vectorRepository.test.ts:373:44

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/64]⎯

 FAIL  lib/repositories/__tests__/vectorRepository.test.ts > VectorRepository > getVectorizationStats > should throw error when getting total count fails
AssertionError: expected [Function] to throw error including 'Failed to get total emails count: Tot…' but got 'this.client.from(...).select is not a…'

Expected: [32m"Failed to get total emails count: Total count error"[39m
Received: [31m"this.client.from(...).select is not a function"[39m

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[53/64]⎯

 FAIL  lib/utils/__tests__/vectorizationCache.test.ts > VectorizationCache > expiration > should expire entries after TTL
AssertionError: expected true to be false // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- false[39m
[31m+ true[39m

 ❯ lib/utils/__tests__/vectorizationCache.test.ts:58:39
     56|       await new Promise(resolve => setTimeout(resolve, 50));
     57|       
     58|       expect(shortTtlCache.has(text)).toBe(false);
       |                                       ^
     59|       expect(shortTtlCache.get(text)).toBeNull();
     60|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[54/64]⎯

 FAIL  lib/utils/__tests__/vectorizationCache.test.ts > VectorizationCache > expiration > should clean up expired entries
AssertionError: expected +0 to be 5 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 5[39m
[31m+ 0[39m

 ❯ lib/utils/__tests__/vectorizationCache.test.ts:77:28
     75|       
     76|       const removedCount = shortTtlCache.cleanup();
     77|       expect(removedCount).toBe(5);
       |                            ^
     78|       expect(shortTtlCache.getStats().size).toBe(0);
     79|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[55/64]⎯

 FAIL  lib/utils/__tests__/vectorizationCache.test.ts > VectorizationCache > cache management > should evict oldest entries when cache is full
AssertionError: expected 4 to be 3 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 3[39m
[31m+ 4[39m

 ❯ lib/utils/__tests__/vectorizationCache.test.ts:97:37
     95|       
     96|       // Should still be at max size due to eviction
     97|       expect(cache.getStats().size).toBe(3);
       |                                     ^
     98|       
     99|       // First entry should be evicted

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[56/64]⎯

 FAIL  app/api/chat/messages/__tests__/route.test.ts > /api/chat/messages > POST > should successfully send a message and return assistant response
AssertionError: expected 400 to be 200 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 400[39m

 ❯ app/api/chat/messages/__tests__/route.test.ts:157:31
    155|       const data = await response.json();
    156| 
    157|       expect(response.status).toBe(200);
       |                               ^
    158|       expect(data).toHaveProperty('message');
    159|       expect(data).toHaveProperty('assistantMessage');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[57/64]⎯

 FAIL  app/api/chat/messages/__tests__/route.test.ts > /api/chat/messages > POST > should return 401 when user is not authenticated
AssertionError: expected 400 to be 401 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 400[39m

 ❯ app/api/chat/messages/__tests__/route.test.ts:195:31
    193|       const data = await response.json();
    194| 
    195|       expect(response.status).toBe(401);
       |                               ^
    196|       expect(data.error).toBe('Unauthorized');
    197|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[58/64]⎯

 FAIL  app/api/chat/messages/__tests__/route.test.ts > /api/chat/messages > POST > should return 404 when chat does not exist
AssertionError: expected 400 to be 404 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 400[39m

 ❯ app/api/chat/messages/__tests__/route.test.ts:219:31
    217|       const data = await response.json();
    218| 
    219|       expect(response.status).toBe(404);
       |                               ^
    220|       expect(data.error).toBe('Chat not found');
    221|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[59/64]⎯

 FAIL  app/api/chat/messages/__tests__/route.test.ts > /api/chat/messages > POST > should return 400 for invalid request data
AssertionError: expected 'Message is required and must be a str…' to be 'Invalid request data' // Object.is equality

Expected: [32m"Invalid request data"[39m
Received: [31m"Message is required and must be a string"[39m

 ❯ app/api/chat/messages/__tests__/route.test.ts:239:26
    237| 
    238|       expect(response.status).toBe(400);
    239|       expect(data.error).toBe('Invalid request data');
       |                          ^
    240|     });
    241| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[60/64]⎯

 FAIL  app/api/chat/messages/__tests__/route.test.ts > /api/chat/messages > POST > should handle vector search errors gracefully
AssertionError: expected 400 to be 200 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 400[39m

 ❯ app/api/chat/messages/__tests__/route.test.ts:293:31
    291|       const data = await response.json();
    292| 
    293|       expect(response.status).toBe(200);
       |                               ^
    294|       expect(data.assistantMessage.content).toBe("I'm sorry, I couldn'…
    295|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[61/64]⎯

 FAIL  app/api/chat/messages/__tests__/route.test.ts > /api/chat/messages > POST > should return 429 when rate limited
AssertionError: expected 400 to be 429 // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- 429[39m
[31m+ 400[39m

 ❯ app/api/chat/messages/__tests__/route.test.ts:320:31
    318|       const data = await response.json();
    319| 
    320|       expect(response.status).toBe(429);
       |                               ^
    321|       expect(data.error).toBe('Rate limit exceeded');
    322|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[62/64]⎯


 Test Files  21 failed | 22 passed (43)
      Tests  56 failed | 400 passed (456)
   Start at  18:06:55
   Duration  6.11s (transform 1.06s, setup 2.77s, collect 5.29s, tests 17.11s, environment 15.14s, prepare 1.98s)

npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/max/Documents/Coding/Jessie/apps/web
npm error workspace web@0.1.0
npm error location /Users/max/Documents/Coding/Jessie/apps/web
npm error command failed
npm error command sh -c vitest run
